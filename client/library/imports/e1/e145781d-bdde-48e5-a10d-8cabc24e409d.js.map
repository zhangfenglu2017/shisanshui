{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEjC,EAAE,CAAC,KAAK,CAAC;AACL,eAAS,EAAE,CAAC,SAAS;;AAErB,cAAU,EAAE;AACR,iBAAS,EAAC,EAAE,CAAC,KAAK;AAClB,kBAAU,EAAC,EAAE,CAAC,KAAK;AACnB,kBAAU,EAAC,EAAE,CAAC,IAAI;AAClB,cAAM,EAAC,EAAE,CAAC,KAAK;AACf,aAAK,EAAC,EAAE,CAAC,KAAK;AACd,UAAE,EAAC,EAAE,CAAC,KAAK;AACX,kBAAU,EAAC,EAAE,CAAC,IAAI;AAClB,kBAAU,EAAC,EAAE,CAAC,IAAI;AAClB,sBAAc,EAAC,EAAE,CAAC,KAAK;AACvB,mBAAW,EAAC,CAAC,EAAE,CAAC,KAAK,CAAC;;AAEtB,iBAAS,EAAE,IAAI;;;AAGf,iBAAS,EAAC,EAAE,CAAC,IAAI;AACjB,uBAAe,EAAE,IAAI;AACrB,uBAAe,EAAC,EAAE,CAAC,IAAI;;KAE1B;;;AAGD,UAAM,EAAE,kBAAY;AAChB,YAAI,CAAC,eAAe,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;KACvD;;AAED,WAAO,EAAE,iBAAU,UAAU,EAAE;AAC3B,YAAI,CAAC,SAAS,GAAG,UAAU,CAAC,EAAE,CAAC;;;AAG/B,YAAI,UAAU,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;AACpC,mBAAO;SACV;;AAED,YAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;AACrD,kBAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAE,UAAU,CAAC,MAAM,CAAE,CAAC;;AAEpD,YAAI,GAAG,GAAG,UAAU,CAAC,MAAM,CAAE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,EAAC,WAAW,CAAC,YAAY,CAAC,CAAE,CAAE;;;;;;;;;AASrF,YAAI,CAAC,KAAK,CAAC,MAAM,GAAI,GAAG,IAAI,CAAC,GAAC,GAAG,GAAC,GAAG,GAAE,GAAG,AAAC,CAAC;;AAE5C,YAAI,OAAO,GAAG,WAAW,CAAC,OAAO,CAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,YAAY,EAAC,WAAW,CAAC,YAAY,CAAC,CAAE,CAAC,SAAS,CAAC;AAC9G,YAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;AACrD,UAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAC,OAAO,EAAC,IAAI,EAAC,KAAK,EAAC,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AACzD,gBAAI,CAAC,GAAG,EAAE;AACN,oBAAI,KAAK,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;AACpC,sBAAM,CAAC,WAAW,GAAC,KAAK,CAAC;aAC5B;SACJ,CAAC,CAAC;;AAEH,YAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,GAAE,WAAW,CAAC,MAAM,CAAC;AAC/C,YAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;AAC9D,YAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,GAAE,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,GAAC,CAAC,CAAC,CAAC;;;;;;KAMnE;AACD,MAAE,EAAE,YAAS,QAAQ,EAAC;AAClB,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,gBAAO,QAAQ;AACX,iBAAK,CAAC;AAAE,qBAAK,GAAG,CAAC,CAAC,AAAC,MAAM;AAAA,AACzB,iBAAK,CAAC;AAAE,qBAAK,GAAG,EAAE,CAAC,AAAC,MAAM;AAAA,AAC1B,iBAAK,CAAC;AAAE,qBAAK,GAAG,EAAE,CAAC,AAAC,MAAM;AAAA,AAC1B,iBAAK,CAAC;AAAE,qBAAK,GAAG,EAAE,CAAC,AAAC,MAAM;AAAA,SAC7B;AACD,eAAO,KAAK,CAAC;KAChB;;AAED,OAAG,EAAC,aAAS,MAAM,EAAC,OAAO,EAAC;;AACxB,aAAI,IAAI,CAAC,GAAE,CAAC,EAAE,CAAC,GAAC,OAAO,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC/B,gBAAG,OAAO,CAAC,CAAC,CAAC,IAAI,MAAM,EAAC;AACpB,uBAAO,CAAC,CAAC;aACZ;SACJ;KACJ;AACD,WAAO,EAAE,iBAAS,QAAO,EAAC,OAAO,EAAC;;AAC9B,aAAI,IAAI,CAAC,GAAE,CAAC,EAAE,CAAC,GAAC,OAAO,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC/B,gBAAG,OAAO,CAAC,CAAC,CAAC,IAAI,QAAO,EAAC;AACrB,uBAAO,CAAC,CAAC;aACZ;SACJ;KACJ;;AAED,eAAW,EAAE,qBAAU,KAAK,EAAE,IAAI,EAAG;AACjC,YAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC/C,YAAI,mBAAmB,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;AAC/E,2BAAmB,CAAC,cAAc,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;AAC9D,2BAAmB,CAAC,SAAS,EAAE,CAAC;AAChC,YAAI,CAAC,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;;;;;;;;KAQtD;;AAED,kBAAc,EAAE,wBAAU,YAAY,EAAE;;;KAGvC;;AAED,gBAAY,EAAE,sBAAS,cAAc,EAAE,KAAK,EAAE;;;;;;;;;;;;;;;;;KAiB7C;AACD,WAAO,EAAC,mBAAU,EAEjB;;CAGJ,CAAC,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "const Socket = require('socket');\nconst Playback = require('Playback');\nconst record = require('record');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        timeLabel:cc.Label,   // 时间\n        jushuLabel:cc.Label,  // 局数\n        createUser:cc.Node,   // 房主\n        roomId:cc.Label,      // 房间号\n        jifen:cc.Label,       // 积分\n        id:cc.Label,\n        avatarNode:cc.Node,   // 头像\n        creatorImg:cc.Node,   // 创房头像\n        nicknameLabels:cc.Label,\n        scoreLabels:[cc.Label],\n        //numNode:cc.Label,\n        _parentId: null,\n        //playbackNode:cc.Node,//回放按钮\n        //watchNode:cc.Node,//查看按钮\n        reordInfo:cc.Node,\n        _recordItemInfo: null,\n        totalGameResult:cc.Node,\n\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.totalGameResult = cc.find(\"Canvas/recordInfo\");\n    },\n\n    setInfo: function (recordInfo) {\n        this._parentId = recordInfo.id;\n        //this.watchNode.active = true;\n        //this.playbackNode.active = false;\n        if (recordInfo.playersInfo.length == 0) {\n            return;\n        }\n\n        let playersInfo = JSON.parse(recordInfo.playersInfo);\n        recordInfo.scores = JSON.parse( recordInfo.scores );\n\n        var fen = recordInfo.scores[ this.fen(recordInfo.userid,playersInfo.playersIndex) ] ;\n        //cc.log(fen)\n        //cc.log(recordInfo.scores)\n        //cc.log(this.fen(recordInfo.userid,playersInfo.playersIndex))\n        //cc.log(recordInfo.userid)\n        //cc.log(playersInfo.playersIndex)\n        //cc.log(recordInfo)\n        //cc.log(playersInfo)\n        //cc.log('----47')\n        this.jifen.string = (fen >= 0?\"+\"+fen :fen);\n\n        var headUrl = playersInfo.players[ this.creator(recordInfo.createUserId,playersInfo.playersIndex) ].avatarUrl; // 头像URL\n        var sprite = this.avatarNode.getComponent(cc.Sprite);\n        cc.loader.load({url:headUrl,type:\"jpg\"}, function (err, tex) {\n            if (!err) {\n                var frame = new cc.SpriteFrame(tex);\n                sprite.spriteFrame=frame;\n            }\n        });\n\n        this.roomId.string = \"房号：\"+ playersInfo.roomId;\n        this.timeLabel.string = \"时间：\" + playersInfo.time.substr(5,11);\n        this.jushuLabel.string = \"局数：\"+ this.js(playersInfo.setting1-2);\n\n         //for (var i = 0;i < playersInfo.players.length;i++) {\n         //  this.nicknameLabels[i].string = playersInfo.players[i].nickname;\n         //  this.scoreLabels[i].string = playersInfo.players[i].totalScore;\n         //}\n    },\n    js: function(setting2){\n        var jushu = 5;\n        switch(setting2){\n            case 0: jushu = 5; break;\n            case 1: jushu = 10; break;\n            case 2: jushu = 20; break;\n            case 3: jushu = 30; break;\n        }\n        return jushu;\n    },\n\n    fen:function(userid,players){         // 找积分\n        for(var i =0; i<players.length;i++){\n            if(players[i] == userid){\n                return i;\n            }\n        }\n    },\n    creator :function(creator,players){    //创房者\n        for(var i =0; i<players.length;i++){\n            if(players[i] == creator){\n                return i;\n            }\n        }\n    },\n\n    clickAction: function( event, data ) {\n        let playersInfo = JSON.parse(data.playersInfo);\n        let totalGameResultComp = this.totalGameResult.getComponent('TotalGameResult');\n        totalGameResultComp.setPlayerInfos(playersInfo.players, data);\n        totalGameResultComp._clickBtn();\n        this.totalGameResult.getComponent('alert').alert();\n\n        //if (this._recordItemInfo) {\n        //  this._startPlayback(this._recordItemInfo._info8Array);\n        //  return;\n        //}\n        ////Socket.sendGetItemRecord(Socket.instance.userInfo.id,this._parentId);\n        //Socket.sendGetItemRecord(Socket.instance.userInfo.id,--index);\n    },\n\n    _startPlayback: function (playBackInfo) {\n        //Playback.instance.setPlaybackDatas(playBackInfo);\n        //cc.director.loadScene('play');\n    },\n\n    detailAction: function(recordItemInfo, index) {\n        //this._recordItemInfo = recordItemInfo;\n        ////this.playbackNode.active = true\n        ////console.log();\n        ////this.numNode.string = \"第\" + (index + 1) + \"局\";\n        //this.timeLabel.string = recordItemInfo.creatAt.substr(5,11);\n        //let objArray = JSON.parse(recordItemInfo.info8);\n        //this._recordItemInfo._info8Array = objArray;\n        //let playersArray = objArray.map(function(str){\n        //  return JSON.parse(str);\n        //});\n        //\n        //var players = playersArray[playersArray.length-1].data.players;\n        //for (var i = 0;i < players.length;i++) {\n        //    this.nicknameLabels[i].string = players[i].nickname;\n        //    this.scoreLabels[i].string = players[i].cScore;\n        //}\n    },\n    records:function(){\n\n    },\n\n\n});"
  ]
}