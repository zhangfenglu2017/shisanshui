{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "const Socket = require('socket');\r\nconst Playback = require('Playback');\r\nconst record = require('record');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        timeLabel:cc.Label,   // 时间\r\n        jushuLabel:cc.Label,  // 局数\r\n        createUser:cc.Node,   // 房主\r\n        roomId:cc.Label,      // 房间号\r\n        jifen:cc.Label,       // 积分\r\n        id:cc.Label,\r\n        avatarNode:cc.Node,   // 头像\r\n        creatorImg:cc.Node,   // 创房头像\r\n        nicknameLabels:cc.Label,\r\n        scoreLabels:[cc.Label],\r\n        //numNode:cc.Label,\r\n        _parentId: null,\r\n        //playbackNode:cc.Node,//回放按钮\r\n        //watchNode:cc.Node,//查看按钮\r\n        reordInfo:cc.Node,\r\n        _recordItemInfo: null,\r\n        totalGameResult:cc.Node,\r\n\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.totalGameResult = cc.find(\"Canvas/recordInfo\");\r\n    },\r\n\r\n    setInfo: function (recordInfo) {\r\n        this._parentId = recordInfo.id;\r\n        //this.watchNode.active = true;\r\n        //this.playbackNode.active = false;\r\n        if (recordInfo.playersInfo.length == 0) {\r\n            return;\r\n        }\r\n\r\n        let playersInfo = JSON.parse(recordInfo.playersInfo);\r\n        recordInfo.scores = JSON.parse( recordInfo.scores );\r\n\r\n        var fen = recordInfo.scores[ this.fen(recordInfo.userid,playersInfo.playersIndex) ] ;\r\n        //cc.log(fen)\r\n        //cc.log(recordInfo.scores)\r\n        //cc.log(this.fen(recordInfo.userid,playersInfo.playersIndex))\r\n        //cc.log(recordInfo.userid)\r\n        //cc.log(playersInfo.playersIndex)\r\n        //cc.log(recordInfo)\r\n        //cc.log(playersInfo)\r\n        //cc.log('----47')\r\n        this.jifen.string = (fen >= 0?\"+\"+fen :fen);\r\n\r\n        var headUrl = playersInfo.players[ this.creator(recordInfo.createUserId,playersInfo.playersIndex) ].avatarUrl; // 头像URL\r\n        var sprite = this.avatarNode.getComponent(cc.Sprite);\r\n        cc.loader.load({url:headUrl,type:\"jpg\"}, function (err, tex) {\r\n            if (!err) {\r\n                var frame = new cc.SpriteFrame(tex);\r\n                sprite.spriteFrame=frame;\r\n            }\r\n        });\r\n\r\n        this.roomId.string = \"房号：\"+ playersInfo.roomId;\r\n        this.timeLabel.string = \"时间：\" + playersInfo.time.substr(5,11);\r\n        this.jushuLabel.string = \"局数：\"+ this.js(playersInfo.setting1-2);\r\n\r\n         //for (var i = 0;i < playersInfo.players.length;i++) {\r\n         //  this.nicknameLabels[i].string = playersInfo.players[i].nickname;\r\n         //  this.scoreLabels[i].string = playersInfo.players[i].totalScore;\r\n         //}\r\n    },\r\n    js: function(setting2){\r\n        var jushu = 5;\r\n        switch(setting2){\r\n            case 0: jushu = 5; break;\r\n            case 1: jushu = 10; break;\r\n            case 2: jushu = 20; break;\r\n            case 3: jushu = 30; break;\r\n        }\r\n        return jushu;\r\n    },\r\n\r\n    fen:function(userid,players){         // 找积分\r\n        for(var i =0; i<players.length;i++){\r\n            if(players[i] == userid){\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n    creator :function(creator,players){    //创房者\r\n        for(var i =0; i<players.length;i++){\r\n            if(players[i] == creator){\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n\r\n    clickAction: function( event, data ) {\r\n        let playersInfo = JSON.parse(data.playersInfo);\r\n        let totalGameResultComp = this.totalGameResult.getComponent('TotalGameResult');\r\n        totalGameResultComp.setPlayerInfos(playersInfo.players, data);\r\n        totalGameResultComp._clickBtn();\r\n        this.totalGameResult.getComponent('alert').alert();\r\n\r\n        //if (this._recordItemInfo) {\r\n        //  this._startPlayback(this._recordItemInfo._info8Array);\r\n        //  return;\r\n        //}\r\n        ////Socket.sendGetItemRecord(Socket.instance.userInfo.id,this._parentId);\r\n        //Socket.sendGetItemRecord(Socket.instance.userInfo.id,--index);\r\n    },\r\n\r\n    _startPlayback: function (playBackInfo) {\r\n        //Playback.instance.setPlaybackDatas(playBackInfo);\r\n        //cc.director.loadScene('play');\r\n    },\r\n\r\n    detailAction: function(recordItemInfo, index) {\r\n        //this._recordItemInfo = recordItemInfo;\r\n        ////this.playbackNode.active = true\r\n        ////console.log();\r\n        ////this.numNode.string = \"第\" + (index + 1) + \"局\";\r\n        //this.timeLabel.string = recordItemInfo.creatAt.substr(5,11);\r\n        //let objArray = JSON.parse(recordItemInfo.info8);\r\n        //this._recordItemInfo._info8Array = objArray;\r\n        //let playersArray = objArray.map(function(str){\r\n        //  return JSON.parse(str);\r\n        //});\r\n        //\r\n        //var players = playersArray[playersArray.length-1].data.players;\r\n        //for (var i = 0;i < players.length;i++) {\r\n        //    this.nicknameLabels[i].string = players[i].nickname;\r\n        //    this.scoreLabels[i].string = players[i].cScore;\r\n        //}\r\n    },\r\n    records:function(){\r\n\r\n    },\r\n\r\n\r\n});"
  ]
}