{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "const KQNativeInvoke = require('KQNativeInvoke');\r\nconst Socket = require('socket');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemLayout: cc.Layout,\r\n        itemPrefab: cc.Prefab,\r\n        timeLabel:cc.Label,   // 时间\r\n        jushuLabel:cc.Label,  // 局数\r\n        roomId:cc.Label,      // 房间号\r\n        nicknameLabels:cc.Label,\r\n        recordInfo_sview:[cc.Node],\r\n\r\n        sharrBg:cc.Node,\r\n        btnWeiXin:cc.Node,\r\n        btnGongXuoHao:cc.Node,\r\n        btnZhuShou:cc.Node,\r\n        btnZongFen:cc.Node,\r\n\r\n        suanfen_sview:cc.Node,\r\n        suanFenPrefab: cc.Prefab,\r\n        suanFenBgPrefab: cc.Prefab,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    onDisable:function(){\r\n        //if(cc.sys.isBrowser){\r\n        //\r\n            var shareTitle = '开房玩[大众十三水]';\r\n            var desc = '开好房了，就等你们一起来[大众十三水]啦！晚了位置就没了哟~'; \r\n            cc.sys.localStorage.setItem('shareTitle',shareTitle);\r\n            cc.sys.localStorage.setItem('desc',desc);\r\n            \r\n            // cc.sys.localStorage.removeItem(\"shareTitle\");\r\n            // cc.sys.localStorage.removeItem(\"desc\");\r\n            cc.sys.localStorage.removeItem(\"recordId\");\r\n            //cc.sys.localStorage.setItem(\"roomId\",'');\r\n            if(window.shareToTimeLine) {\r\n                window.shareToTimeLine();\r\n            }\r\n            if(window.shareToSession) {\r\n                window.shareToSession();\r\n            }\r\n        //}\r\n\r\n    },\r\n    js: function(setting2){\r\n        var jushu = 5;\r\n        switch(setting2){\r\n            case 0: jushu = 5; break;case 1: jushu = 10; break;\r\n            case 2: jushu = 20; break;case 3: jushu = 30; break;\r\n        }\r\n        return jushu;\r\n    },\r\n\r\n    creator :function(creator,players){    //创房者\r\n        for(var i =0; i<players.length;i++){\r\n            if(players[i].id == creator){\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n\r\n    _clickBtn :function(){\r\n        this.btnZhuShou.active = true;\r\n        this.btnZongFen.active = false;\r\n    },\r\n\r\n    clickZongFen :function(){\r\n\r\n        this.btnZhuShou.active = true;\r\n\r\n        this.btnZongFen.active = false;\r\n\r\n        this.recordInfo_sview.forEach(function (node) {node.active = true;});\r\n\r\n        this.suanfen_sview.active = false;\r\n    },\r\n    _globalMsg:function(recordInfo){\r\n        //if(cc.sys.isBrowser) {\r\n            var roomId =\"房间号：\"+recordInfo.roomId;\r\n            var pj = [\"5 \",\"10 \",\"20 \"];  \r\n            var js = \"局数：\"+pj[recordInfo.setting1-2];\r\n            var time = \"时间：\"+(recordInfo.createAt?recordInfo.createAt:recordInfo.createTime);\r\n            var shareTitle = \"[大众十三水]战绩\";\r\n            var desc = roomId+js+time+\" 点击查看详情\";\r\n            var recordId = (recordInfo.id!=undefined)?recordInfo.id:recordInfo.recordId;  \r\n            cc.sys.localStorage.setItem(\"shareTitle\",shareTitle);\r\n            cc.sys.localStorage.setItem(\"desc\",desc);\r\n            cc.sys.localStorage.setItem(\"recordId\",recordId);\r\n            cc.sys.localStorage.setItem(\"roomId\",'');\r\n\r\n            if(window.shareToTimeLine) {\r\n                window.shareToTimeLine();\r\n            }\r\n            if(window.shareToSession) {\r\n                window.shareToSession();\r\n            }\r\n        //}\r\n    },\r\n    //大局\r\n    setPlayerInfos: function (playerInfos, deskInfo){\r\n        playerInfos.sort(function(a,b){return b.totalScore-a.totalScore}); // 排序\r\n        // cc.log(playerInfos)\r\n        // cc.log(deskInfo)\r\n        // cc.log('--65')\r\n         \r\n        this._globalMsg(deskInfo);\r\n        this.recordInfo_sview.forEach(function (node) {node.active = true;});\r\n\r\n        this.suanfen_sview.active = false;\r\n\r\n        this.btnZhuShou.active = true;\r\n\r\n        this.btnZongFen.active = false;\r\n\r\n        this._playerInfos = playerInfos;\r\n\r\n        this._deskInfo = deskInfo;\r\n\r\n        var createId = deskInfo.createUserId? deskInfo.createUserId: deskInfo.createId;\r\n\r\n        var nickname = playerInfos[ this.creator(createId, playerInfos) ].nickname;\r\n\r\n        this.roomId.string = deskInfo.roomId;\r\n\r\n        var createAt = deskInfo.createAt? deskInfo.createAt: deskInfo.createTime;\r\n\r\n        this.timeLabel.string = createAt.substr(0,11);\r\n\r\n        this.jushuLabel.string = this.js(deskInfo.setting1-2);\r\n\r\n        this.nicknameLabels.string = nickname;\r\n\r\n        this.itemLayout.node.removeAllChildren();\r\n\r\n        playerInfos.forEach(function (user) {\r\n\r\n            let item = cc.instantiate(this.itemPrefab);\r\n\r\n            item.getComponent('TotalGameResultItem').setUserInfo(user, deskInfo);\r\n\r\n            if(deskInfo.createUserId == user.id || deskInfo.createId == user.id){\r\n\r\n                item.children[1].children[0].active = true;\r\n\r\n            }else{\r\n\r\n                item.children[1].children[0].active = false;\r\n\r\n            }\r\n\r\n            this.itemLayout.node.addChild(item);\r\n\r\n        }.bind(this));\r\n\r\n    },\r\n\r\n    //算分能手\r\n    clickSuanFen: function () {\r\n\r\n        this.btnZhuShou.active = false;\r\n\r\n        this.btnZongFen.active = true;\r\n\r\n        this.recordInfo_sview.forEach(function (node) {node.active = false;});\r\n\r\n        this.suanfen_sview.active = true;\r\n\r\n        var playersRigth = this._playerInfos.filter(function (player) {return player.totalScore > 0;});\r\n\r\n        var playersLeft = this._playerInfos.filter(function (player) {return player.totalScore < 0;});\r\n\r\n        var playersRigthScore = playersRigth.map(function (player) {return player.totalScore;});\r\n\r\n        var playersLeftScore = playersLeft.map(function (player) {return player.totalScore * -1;});\r\n\r\n        var playersIndex = [],\r\n\r\n            arrs = [playersRigthScore.filter(function(i){return i;}),playersLeftScore.filter(function(i){return i;})],\r\n\r\n            indexs = playersLeftScore.length > playersRigthScore.length? 0: 1;//1是赢的人 0输的人\r\n\r\n        // for(var i = 0;i < arrs[indexs].length; i++){\r\n\r\n        //     var score = arrs[indexs][i];\r\n\r\n        //     var d = this.getCombBySum(arrs[indexs==1?0:1], score)[0] || [];\r\n\r\n        //     if(d.length > 0){\r\n\r\n        //         playersIndex.push([score,d]);\r\n\r\n        //         d.forEach(function (s) {\r\n\r\n        //             var index = arrs[indexs==1?0:1].indexOf(s);\r\n\r\n        //             if(index != -1) arrs[indexs==1?0:1].splice(index,1);\r\n\r\n        //         });\r\n        //     }\r\n        // }\r\n\r\n        // if(playersIndex.length == 0) indexs = 2;\r\n        indexs = 2\r\n        this.suanfen_sview.children[0].removeAllChildren();\r\n\r\n        playersLeft.forEach(function (user, index) {\r\n\r\n            var suanFenBgPrefab = cc.instantiate(this.suanFenBgPrefab);\r\n\r\n            suanFenBgPrefab.removeAllChildren();\r\n\r\n            this._ctarePrefab(1 ,suanFenBgPrefab, user, user.totalScore, this._deskInfo ,-200 ,0);\r\n\r\n            var x = 0, y = 0;\r\n\r\n            if(indexs == 1){\r\n                for(var j = 0; j < playersIndex[index][1].length; j++){\r\n\r\n                    var s = playersIndex[index][1][j];\r\n\r\n                    var d = playersRigthScore.indexOf(s);\r\n\r\n                    if(d != -1){\r\n\r\n                        var plays = playersRigth.splice(d,1)[0];\r\n\r\n                        playersRigthScore.splice(d,1);\r\n\r\n                        if(plays){\r\n\r\n                            if(suanFenBgPrefab.childrenCount >= 3) y = -90;\r\n\r\n                            if(suanFenBgPrefab.childrenCount == 3) x = 0;\r\n\r\n                            if(suanFenBgPrefab.childrenCount >= 5) y = -180;\r\n\r\n                            if(suanFenBgPrefab.childrenCount == 5) x = 0;\r\n\r\n                            this._ctarePrefab(0, suanFenBgPrefab, plays, plays.totalScore, this._deskInfo, x ,y);\r\n\r\n                            x += 200;\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if(indexs == 0){\r\n                var fen = suanFenBgPrefab.children[0].getChildByName(\"fen\").getComponent(cc.Label).string.substr(3) * -1;\r\n\r\n                for(var j = 0; j < playersIndex.length; j++){\r\n\r\n                    var s = playersIndex[j];\r\n\r\n                    var d = s[1].indexOf(fen);\r\n\r\n                    var q = s[0];\r\n\r\n                    var w = playersRigthScore.indexOf(q);\r\n\r\n                    if(d != -1 && w != -1){\r\n\r\n                        var plays = playersRigth[w];\r\n\r\n                        this._ctarePrefab(0, suanFenBgPrefab, plays, plays.totalScore, this._deskInfo, x, y, fen);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                var q = playersLeftScore[index];\r\n                var addScore = 0;\r\n                var arr = [];\r\n                for(var j = 0; j < playersRigthScore.length; j++){\r\n                    var w = playersRigthScore[j];\r\n                    if(addScore < q){\r\n                        addScore += w;\r\n                        if(addScore > q){\r\n                            arr.push(w - (addScore - q));\r\n                        }else{\r\n                            arr.push(w);\r\n                        }\r\n                        if(q - w >= 0){\r\n                            playersRigthScore[j] = 0;\r\n                        }\r\n                    }\r\n                    if(addScore > q){\r\n                        playersRigthScore[j] = addScore - q;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                for(var t = 0; t < arr.length; t++){\r\n                    var r = arr[t];\r\n                    if(r == 0) continue;\r\n                    if(suanFenBgPrefab.childrenCount >= 3) y = -90;\r\n\r\n                    if(suanFenBgPrefab.childrenCount == 3) x = 0;\r\n\r\n                    if(suanFenBgPrefab.childrenCount >= 5) y = -180;\r\n\r\n                    if(suanFenBgPrefab.childrenCount == 5) x = 0;\r\n\r\n                    var plays = playersRigth[t];\r\n\r\n                    this._ctarePrefab(0, suanFenBgPrefab, plays, r, this._deskInfo, x, y);\r\n\r\n                    x += 200;\r\n                }\r\n\r\n            }\r\n\r\n            this.suanfen_sview.children[0].addChild(suanFenBgPrefab);\r\n\r\n        }.bind(this));\r\n\r\n    },\r\n\r\n    _ctarePrefab: function (shu, node, user, totalScore, deskInfo, x, y, fen = null) {\r\n\r\n        var suanFenPrefab = cc.instantiate(this.suanFenPrefab);\r\n\r\n        suanFenPrefab.getChildByName(\"ID\").getComponent(cc.Label).string = \"ID:\"+user.id;\r\n\r\n        if(deskInfo.createUserId == user.id)suanFenPrefab.getChildByName(\"ID\").color = new cc.Color(235, 115, 122);\r\n\r\n        suanFenPrefab.getChildByName(\"shu\").getComponent(cc.Label).string = shu == 0? \"输\": \"\";\r\n\r\n        var str = shu == 0? totalScore+\"分\": \"总分:\"+totalScore;\r\n\r\n        if(fen) str = fen+\"分\";\r\n\r\n        suanFenPrefab.getChildByName(\"fen\").getComponent(cc.Label).string = str;\r\n\r\n        var sprite = suanFenPrefab.getChildByName(\"haed\").getComponent(cc.Sprite);\r\n\r\n        var headUrl = user.avatarUrl; // 头像URL\r\n\r\n        cc.loader.load({url:headUrl,type:\"jpg\"}, function (err, tex) {\r\n\r\n            if (!err) {\r\n\r\n                var frame = new cc.SpriteFrame(tex);\r\n\r\n                sprite.spriteFrame = frame;\r\n\r\n                sprite.node.height = 55;\r\n\r\n                sprite.node.width = 55;\r\n\r\n            }\r\n\r\n        });\r\n\r\n        suanFenPrefab.x = x;\r\n\r\n        suanFenPrefab.y = y;\r\n\r\n        node.height = 90 + y * -1;\r\n\r\n        node.addChild(suanFenPrefab);\r\n\r\n    },\r\n\r\n    clickExit: function () {\r\n        Socket.sendOnceAgain('false',this._userId);\r\n        cc.director.loadScene('hall');\r\n    },\r\n\r\n    clickShareWeiChat: function () {\r\n        if(!cc.sys.isNative){\r\n            this.sharrBg.active = true;\r\n        }else{\r\n            if (KQNativeInvoke.isNativeIOS()) {\r\n                jsb.reflection.callStaticMethod(KQNativeInvoke.IOSClassName,\"wxScreenShareFriend\",);\r\n            }\r\n             else {//Android\r\n                  KQNativeInvoke.screenshotShare();\r\n            }\r\n       }\r\n    },\r\n    clickShareBg :function () {\r\n        this.sharrBg.active = false;\r\n    },\r\n    clickSharePengYouQuan: function () {\r\n      if (KQNativeInvoke.isNativeIOS()) {\r\n          jsb.reflection.callStaticMethod(KQNativeInvoke.IOSClassName,\"wxScreenShare\",);\r\n      }\r\n      else {//Android\r\n          jsb.reflection.callStaticMethod(KQNativeInvoke.ANDRIODClassName, \"wxScreenShare\", \"()V\");\r\n      }\r\n    },\r\n\r\n    getCombBySum: function (array,sum,tolerance,targetCount) {\r\n        var util = {\r\n                /*\r\n                 get combination from array\r\n                 arr: target array\r\n                 num: combination item length\r\n                 return: one array that contain combination arrays\r\n                 */\r\n                getCombination: function(arr, num) {\r\n                    var r=[];\r\n                    (function f(t,a,n)\r\n                    {\r\n                        if (n==0)\r\n                        {\r\n                            return r.push(t);\r\n                        }\r\n                        for (var i=0,l=a.length; i<=l-n; i++)\r\n                        {\r\n                            f(t.concat(a[i]), a.slice(i+1), n-1);\r\n                        }\r\n                    })([],arr,num);\r\n                    return r;\r\n                },\r\n                //take array index to a array\r\n                getArrayIndex: function(array) {\r\n                    var i = 0,\r\n                        r = [];\r\n                    for(i = 0;i<array.length;i++){\r\n                        r.push(i);\r\n                    }\r\n\r\n                    return r;\r\n                }\r\n            },logic = {\r\n                //sort the array,then get what's we need\r\n                init: function(array,sum) {\r\n                    //clone array\r\n                    var _array = array.concat(),\r\n                        r = [],\r\n                        i = 0;\r\n                    //sort by asc\r\n                    _array.sort(function(a,b){\r\n                        return a - b;\r\n                    });\r\n                    //get all number when it's less than or equal sum\r\n                    for(i = 0;i<_array.length;i++){\r\n                        if(_array[i]<=sum){\r\n                            r.push(_array[i]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    return r;\r\n                },\r\n                //important function\r\n                core: function(array,sum,arrayIndex,count,r){\r\n                    var i = 0,\r\n                        k = 0,\r\n                        combArray = [],\r\n                        _sum = 0,\r\n                        _cca = [],\r\n                        _cache = [];\r\n\r\n                    if(count == _returnMark){\r\n                        return;\r\n                    }\r\n                    //get current count combination\r\n                    combArray = util.getCombination(arrayIndex,count);\r\n                    for(i = 0;i<combArray.length;i++){\r\n                        _cca = combArray[i];\r\n                        _sum = 0;\r\n                        _cache = [];\r\n                        //calculate the sum from combination\r\n                        for(k = 0;k<_cca.length;k++){\r\n                            _sum += array[_cca[k]];\r\n                            _cache.push(array[_cca[k]]);\r\n                        }\r\n                        if(Math.abs(_sum-sum) <= _tolerance){\r\n                            r.push(_cache);\r\n                        }\r\n                    }\r\n\r\n                    logic.core(array,sum,arrayIndex,count-1,r);\r\n                }\r\n\r\n            },\r\n            r = [],\r\n            _array = [],\r\n            _targetCount = 0,\r\n            _tolerance = 0,\r\n            _returnMark = 0;\r\n\r\n        //check data\r\n        _targetCount = targetCount || _targetCount;\r\n        _tolerance = tolerance || _tolerance;\r\n\r\n        _array = logic.init(array,sum);\r\n        if(_targetCount){\r\n            _returnMark = _targetCount-1;\r\n        }\r\n\r\n        logic.core(_array,sum,util.getArrayIndex(_array),(_targetCount || _array.length),r);\r\n\r\n        return r;\r\n    },\r\n});\r\n"
  ]
}