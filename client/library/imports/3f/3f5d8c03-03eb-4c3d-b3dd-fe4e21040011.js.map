{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "const KQCard = require('KQCard');\r\nconst KQCardFindTypeExtension = require('KQCardFindTypeExtension');\r\nconst KQCardColorsHelper = require('KQCardColorsHelper');\r\nconst KQCardScoretsHelper = require('KQCardScoretsHelper');\r\nconst GetCardPointsSameCount = require('GetCardPointsSameCount');\r\nconst KQCardPointsHelper = require('KQCardPointsHelper');\r\n\r\nKQCard.scoreOfCards = function (cards) {\r\n  if(cards == null || cards.length == null) {\r\n    cards = [];\r\n  }\r\n\r\n  var isTou = cards.length == 3;\r\n  let typeScore = KQCard._typeScoreOfCards(cards);\r\n  var caleCards = KQCard._convertOneToA(cards.slice());\r\n  caleCards.forEach(function(card){\r\n    if(card.scores == 1){\r\n      card.scores = 14;\r\n    }\r\n  })\r\n  //caleCards = KQCard.Sort(caleCards);\r\n  var card20 = KQCard.contain20(caleCards);\r\n  var pointHelper = new KQCardScoretsHelper(caleCards.kq_excludes(card20));\r\n  var maxNum = pointHelper.maxNumber()/*-card20.length == 0 ? 1: pointHelper.maxNumber()-card20.length*/;\r\n\r\n  var maxScore = 0;//获取除鬼牌外最大的的点数\r\n  for(var i in pointHelper.pointNumbers) {\r\n    if (parseInt(i) > maxScore && pointHelper.pointNumbers[i] == maxNum) {\r\n      maxScore = parseInt(i);\r\n    }\r\n  }\r\n  caleCards.forEach(function(card){\r\n    if(card.scores >= 20){\r\n      card.scores = maxScore;\r\n    }\r\n  })\r\n  card20.forEach(function(card){\r\n    card.scores = maxScore;\r\n  })\r\n  //cc.log(maxNum)\r\n  //cc.log(maxScore)\r\n  //cc.log(caleCards.kq_excludes(card20))\r\n  //cc.log('----35')\r\n  caleCards.sort(KQCard.sort);\r\n  if(typeScore == 9000000000000000){\r\n    //五同\r\n    caleCards.sort(function(a1,a2){\r\n      return a2.scores - a1.scores;\r\n    });\r\n    var totalValue = \"\";\r\n    //var totalColor = \"\";\r\n    for(var i in caleCards) {\r\n      var s = caleCards[i].scores;\r\n      //var c = caleCards[i].color;\r\n      totalValue = (parseInt(s) >= 10 ? s : \"0\"+s)+totalValue;\r\n      //totalColor = c+totalColor;\r\n    }\r\n    //totalValue = totalValue+totalColor;\r\n    //cc.log(totalValue)\r\n    //cc.log(parseInt(totalValue))\r\n    //cc.log(typeScore+parseInt(totalValue))\r\n    return typeScore+parseInt(totalValue);\r\n  }\r\n  else if(typeScore == 8000000000000000) {\r\n    //同花顺比最大的那张，如果两张相同那就是相同\r\n    if(card20.length > 0){//有鬼牌的时候要改变鬼牌的分数\r\n      caleCards = KQCard._changeCardScors(caleCards);\r\n    }\r\n    var totalValue = \"\";\r\n    var valueColor = \"\";//牌色\r\n    for(var i in caleCards) {\r\n      var s = caleCards[i].scores;\r\n      totalValue = (parseInt(s) >= 10 ? s : \"0\"+s)+totalValue;\r\n      var c = caleCards[i].color;//牌色\r\n      valueColor = c + valueColor;//牌色\r\n    }\r\n    if(cc.huaSe == 0) return typeScore+parseInt(totalValue);\r\n    return typeScore+parseInt(totalValue + valueColor);\r\n  }\r\n  else if(typeScore == 7000000000000000) {\r\n    //铁支,找出那四张是什么牌\r\n\r\n    var str = \"\";\r\n    var oneValue = \"\";\r\n    var valueColor = \"\";//牌色\r\n    var oneValueColor = \"\";//牌色\r\n    for(var w in caleCards) {\r\n      if(maxScore == caleCards[w].scores){//三条\r\n        var s = caleCards[w].scores;\r\n        str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\r\n\r\n        var c = caleCards[w].color;//牌色\r\n        valueColor = c + valueColor;//牌色\r\n      }else{\r\n        var s = caleCards[w].scores;\r\n        oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\r\n\r\n        var c = caleCards[w].color;//牌色\r\n        oneValueColor = c + oneValueColor;//牌色\r\n\r\n      }\r\n    }\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\r\n    //var qwe = '';\r\n    //qwe = oneValueColor.substr(0,oneValueColor.length -1);\r\n    //oneValueColor = oneValueColor.substr(oneValueColor.length -1);\r\n    //str = str+oneValue + oneValueColor + valueColor + qwe;\r\n    //return typeScore+parseInt(str);\r\n    return typeScore+parseInt(str+oneValue);\r\n  }\r\n  else if(typeScore == 6000000000000000) {\r\n    //葫芦\r\n    var str = \"\";\r\n    var oneValue = \"\";\r\n    var valueColor = \"\";//牌色\r\n    var oneValueColor = \"\";//牌色\r\n    for(var w in caleCards) {\r\n      if(maxScore == caleCards[w].scores){//三条\r\n        var s = caleCards[w].scores;\r\n        str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\r\n\r\n        var c = caleCards[w].color;//牌色\r\n        valueColor = c + valueColor;//牌色\r\n      }else{\r\n        var s = caleCards[w].scores;\r\n        oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\r\n\r\n        var c = caleCards[w].color;//牌色\r\n        oneValueColor = c + oneValueColor;//牌色\r\n\r\n      }\r\n    }\r\n\r\n    if(isTou){\r\n      oneValue = oneValue+'0000';\r\n      oneValueColor = oneValueColor+'00';\r\n    }\r\n    return typeScore+parseInt(str+oneValue);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\r\n    //str = str+oneValue + valueColor + oneValueColor;\r\n    //return typeScore+parseInt(str);\r\n\r\n  }\r\n  else if(typeScore == 5000000000000000) {\r\n    //同花,有可能需要比5张牌\r\n    var totalScore = \"\";\r\n    var totalColor = \"\";\r\n    //var colors = 0;//获取牌的类型颜色\r\n    //for(var i in caleCards) {\r\n    //  if(parseInt(caleCards[i].point) < 20){\r\n    //    colors = parseInt(caleCards[i].color);\r\n    //    break;\r\n    //  }\r\n    //}\r\n\r\n    for(var i in caleCards) {\r\n      var paiPoint = parseInt(caleCards[i].point);\r\n      var colors = parseInt(caleCards[i].point) < 20 ? caleCards[i].color: 5;\r\n      totalColor = colors + totalColor;\r\n      totalScore = (paiPoint>=10 ? paiPoint : \"0\"+paiPoint)+totalScore;\r\n    }\r\n    return typeScore+parseInt(totalScore);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(totalScore);\r\n    //return typeScore+parseInt(totalScore+totalColor);\r\n  }\r\n  else if(typeScore == 4000000000000000) {\r\n    //顺子\r\n    if(card20.length > 0){//有鬼牌的时候要改变鬼牌的分数\r\n      caleCards = KQCard._changeCardScors(caleCards);\r\n    }\r\n    var totalValue = \"\";\r\n    var valueColor = \"\";//牌色\r\n    for(var i in caleCards) {\r\n      var s = caleCards[i].scores;\r\n      totalValue = (parseInt(s) >= 10 ? s : \"0\"+s)+totalValue;\r\n\r\n      var c = caleCards[i].color;//牌色\r\n      valueColor = c + valueColor;//牌色\r\n    }\r\n    return typeScore+parseInt(totalValue);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(totalValue);\r\n    //return typeScore+parseInt(totalValue + valueColor);\r\n  }\r\n  else if(typeScore == 3000000000000000) {\r\n    //三条，找出是哪张牌有3张\r\n    //caleCards.sort(KQCard.sort);\r\n    var str = \"\";\r\n    var oneValue = \"\";\r\n    var valueColor = \"\";//牌色\r\n    var oneValueColor = \"\";//牌色\r\n    var oneValueColor20 = \"\";//牌色\r\n    for(var w in caleCards) {\r\n      if(maxScore == caleCards[w].scores){//三条\r\n        var s = caleCards[w].scores;\r\n        str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\r\n\r\n        var c = caleCards[w].color;//牌色\r\n        valueColor = c + valueColor;//牌色\r\n      }else{\r\n        var s = caleCards[w].scores;\r\n        oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\r\n\r\n        var c = caleCards[w].color;//牌色\r\n        if(parseInt(s) < 20){\r\n          oneValueColor = c + oneValueColor;//牌色\r\n        }else{\r\n          oneValueColor20 = c + oneValueColor20;//牌色\r\n        }\r\n      }\r\n    }\r\n    if(isTou){\r\n      oneValue = oneValue+'0000';\r\n      valueColor = valueColor+'00';\r\n    }\r\n    return typeScore+parseInt(str+oneValue);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\r\n    //str = str+oneValue + oneValueColor + valueColor + oneValueColor20;\r\n    //return typeScore+parseInt(str);\r\n\r\n  }\r\n  else if(typeScore == 2000000000000000) {\r\n    //caleCards.sort(KQCard.sort);\r\n    //两对,有可能需要比5张牌\r\n    var str = \"\";\r\n    var oneValue = '';\r\n    var valueColor = \"\";//牌色\r\n    var oneValueColor = \"\";//牌色\r\n    for(var i in pointHelper.pointNumbers) {\r\n      if(pointHelper.pointNumbers[i] == 2) {//两对\r\n        for(var w in caleCards) {\r\n          if(i == caleCards[w].scores){\r\n            var s = caleCards[w].scores;\r\n            str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\r\n            var c = caleCards[w].color;//牌色\r\n            valueColor = c + valueColor;//牌色\r\n\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        for(var q in caleCards) {//单张加花色\r\n          if(i == caleCards[q].scores){\r\n            var s = caleCards[q].scores;\r\n            oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\r\n\r\n            var c = caleCards[q].color;//牌色\r\n            oneValueColor = oneValueColor + c;//牌色\r\n\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n    return typeScore+parseInt(str+oneValue);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\r\n    ////cc.log(str)\r\n    ////cc.log(oneValue)\r\n    //str = str+oneValue +oneValueColor + valueColor;\r\n    //return typeScore+parseInt(str);\r\n  }\r\n  else if(typeScore == 1000000000000000) {\r\n    //对子\r\n    //caleCards.sort(KQCard.sort);\r\n    var str = \"\";\r\n    var oneValue = \"\";\r\n    var oneValueColor = \"\";\r\n    var valueColor = \"\";\r\n\r\n    if(card20.length > 0){\r\n      caleCards.sort(function(card1,card2) {\r\n        return card2.point-card1.point;\r\n      });\r\n      caleCards = caleCards.kq_excludes(card20);\r\n      caleCards.forEach(function(card,index) {\r\n        var s = card.scores;\r\n        var c = card.color;\r\n        str = str+(parseInt(s)>=10 ? s :\"0\"+s);\r\n        if(index == 0){\r\n          var s20 = card20[0].scores;\r\n          str = str+(parseInt(s20)>=10 ? s20 :\"0\"+s20);\r\n          valueColor = valueColor+c;\r\n          valueColor = valueColor+card20[0].color;\r\n        }else{\r\n          oneValueColor = oneValueColor+c;\r\n        }\r\n      });\r\n      //cc.log(str)\r\n      //cc.log('--------274')\r\n      if(isTou){\r\n        str = str+'0000';\r\n        valueColor = valueColor+'00';\r\n      }\r\n      return typeScore+parseInt(str);\r\n      //if(cc.huaSe == 0) return typeScore+parseInt(str);\r\n      //str = str + oneValueColor + valueColor;\r\n      //return typeScore+parseInt(str);\r\n    }\r\n\r\n    for(var i in pointHelper.pointNumbers) {\r\n      if(pointHelper.pointNumbers[i] == maxNum) {//对子\r\n        for(var w in caleCards) {//对子加花色\r\n          if(i == caleCards[w].scores){\r\n            var s = caleCards[w].scores;\r\n            valueColor = caleCards[w].color + valueColor;\r\n            str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        for(var q in caleCards) {//单张加花色\r\n          if(i == caleCards[q].scores){\r\n            var s = caleCards[q].scores;\r\n            oneValueColor = caleCards[q].color + oneValueColor;\r\n            oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n    if(isTou){\r\n      oneValue = oneValue+'0000';\r\n      valueColor = valueColor+'00';\r\n    }\r\n    return typeScore+parseInt(str+oneValue);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\r\n    //str = str+oneValue+oneValueColor+valueColor;\r\n    //return typeScore+parseInt(str);\r\n  }\r\n  else if(typeScore == 0) {\r\n    //乌龙\r\n    var valuePoint = \"\";\r\n    var valueColor = \"\";\r\n    for(var q in caleCards) {\r\n      var s = caleCards[q].scores;\r\n      var c = caleCards[q].color;//单张加花色\r\n      valuePoint = (parseInt(s)>=10 ? s :\"0\"+s) + valuePoint;\r\n      valueColor = c + valueColor;\r\n    }\r\n    if(isTou){\r\n      valuePoint = valuePoint+'0000';\r\n      valueColor = valueColor+'00';\r\n    }\r\n    return typeScore+parseInt(valuePoint);\r\n    //if(cc.huaSe == 0) return typeScore+parseInt(valuePoint);\r\n    //valuePoint = valuePoint + valueColor;\r\n    //return typeScore+parseInt(valuePoint);\r\n  }\r\n\r\n\r\n  var cardsTotalPoint=0;\r\n  caleCards.forEach(function(card) {\r\n    cardsTotalPoint += card.point;\r\n  });\r\n\r\n  let result = typeScore + cardsTotalPoint;\r\n  return result;\r\n};\r\nKQCard._changeCardScors = function(cardModel) {\r\n  cardModel.forEach(function(card) {\r\n    card.scores = card.point;\r\n    if (card.scores == 1) {\r\n      card.scores = 14;\r\n    }\r\n  });\r\n\r\n  var is14 = true;//是 k q j 10 A;\r\n  var is1 = true;//是1 2 3 4 5\r\n\r\n  cardModel.forEach(function(card) {\r\n    if (card.scores < 10) {\r\n      is14 = false; //不是 k q j 10 A;\r\n    }\r\n  });\r\n  cardModel.forEach(function(card) {\r\n    card.scores = card.point;\r\n    if (card.scores == 14) {\r\n      card.scores = 1;\r\n    }\r\n  });\r\n  cardModel.forEach(function(card) {\r\n    if (card.scores > 5 && card.scores != 20) {\r\n      is1 = false;//不是1 2 3 4 5\r\n    }\r\n  });\r\n\r\n  if (is14) { //是 k q j 10 A;\r\n    cardModel.forEach(function(card) {\r\n      if (card.scores == 1) {\r\n        card.scores = 14;\r\n      }\r\n    });\r\n\r\n    cardModel.sort(function(a1, a2) {\r\n      return a2.scores - a1.scores;\r\n    });\r\n    var num = 14;\r\n    var scoresAyy = []; //一副牌的分数\r\n    for (var i = 0; i < 5; i++) {\r\n      scoresAyy.push(num);\r\n      num -= 1;\r\n    }\r\n    for (var j = 0; j < scoresAyy.length; j++) {\r\n      for (var i = 0; i < cardModel.length; i++) {\r\n        var cardScores = cardModel[i].scores;\r\n        if (cardScores == scoresAyy[j] && cardScores < 15) {\r\n          scoresAyy.splice(j, 1); //删除不是鬼牌的分\r\n        }\r\n      }\r\n    }\r\n    //cc.log('----------是 k q j 10 A',scoresAyy)\r\n    cardModel.forEach(function(card) { //找出选中的牌\r\n      if (card.point >= 20) {\r\n        card.scores = scoresAyy.splice(0, 1)[0];\r\n      }\r\n    }.bind(this));\r\n  }\r\n  else if (is1) { //是1 2 3 4 5\r\n    cardModel.sort(function(a1, a2) {\r\n      return a2.scores - a1.scores;\r\n    });\r\n    var num = 5;\r\n    var scoresAyy = []; //一副牌的分数\r\n    for (var i = 0; i < 5; i++) {\r\n      scoresAyy.push(num);\r\n      num -= 1;\r\n    }\r\n    for (var j = 0; j < scoresAyy.length; j++) {\r\n      for (var i = 0; i < cardModel.length; i++) {\r\n        var cardScores = cardModel[i].scores;\r\n        if (cardScores == scoresAyy[j] && cardScores < 15) {\r\n          scoresAyy.splice(j, 1); //删除不是鬼牌的分\r\n        }\r\n      }\r\n    }\r\n    //cc.log('----------是1 2 3 4 5')\r\n    cardModel.forEach(function(card) { //找出选中的牌\r\n      if (card.point >= 20) {\r\n        card.scores = scoresAyy.splice(0, 1)[0];\r\n      }\r\n    }.bind(this));\r\n  }\r\n  else {\r\n    cardModel.sort(function(a1, a2) {\r\n      return a1.scores - a2.scores;\r\n    });\r\n    var scoresAyy = []; //用来装鬼牌分数\r\n    for (var i = 0; i < 5; i++) {\r\n      var s = parseInt(cardModel[0].scores) + i; //最小的牌的分数\r\n      scoresAyy.push(s);//一副牌的分数\r\n    }\r\n    for (var j = 0; j < scoresAyy.length; j++) {\r\n      for (var i = 0; i < cardModel.length; i++) {\r\n        var cardScores = cardModel[i].scores;\r\n        if (cardScores == scoresAyy[j] && cardScores < 15) {\r\n          scoresAyy.splice(j, 1); //删除不是鬼牌的分\r\n        }\r\n      }\r\n    }\r\n    cardModel.forEach(function(card) { //改变牌的分数\r\n      if (card.point >= 20) {\r\n        card.scores = scoresAyy.splice(0,1)[0];\r\n      }\r\n    }.bind(this));\r\n  }\r\n\r\n  cardModel.forEach(function(card) {\r\n    if (card.scores == 1) {\r\n      card.scores = 14;\r\n    }\r\n  });\r\n  cardModel.sort(function(a1, a2) {\r\n    return a1.scores - a2.scores;\r\n  });\r\n  return cardModel;\r\n};\r\n/*#####*/\r\n\r\nKQCard._typeScoreOfCards = function (cards) {\r\n  var typeScore = 0;\r\n  if(KQCard.containWuTong(cards)){\r\n    typeScore = 9000000000000000;\r\n  } else if (KQCard.containTongHuaShun(cards)) {\r\n    typeScore = 8000000000000000;\r\n  } else if (KQCard.containTieZhi(cards)) {\r\n    typeScore = 7000000000000000;\r\n  } else if (KQCard.containHuLu(cards)) {\r\n    typeScore = 6000000000000000;\r\n  } else if (KQCard.containTongHua(cards)) {\r\n    typeScore = 5000000000000000;\r\n  } else if (KQCard.containShunZi(cards)) {\r\n    typeScore = 4000000000000000;\r\n  } else if (KQCard.containSanTiao(cards)) {\r\n    typeScore = 3000000000000000;\r\n  } else if (KQCard.containLiaDui(cards)) {\r\n    typeScore = 2000000000000000;\r\n  } else if (KQCard.containDuiZi(cards)) {\r\n    typeScore = 1000000000000000;\r\n  }\r\n\r\n  return typeScore;\r\n};\r\n/*\r\n // 根据牌型进行排序\r\n KQCard._typeCardsSort = function (cards) {\r\n if ((cards == null) || (cards.length == 0)) {\r\n return cards;\r\n }\r\n if(KQCard.containWuTong(cards)){\r\n return KQCard._typeCardsSortWutong(cards);\r\n } else if (KQCard.containTongHuaShun(cards)) {\r\n return KQCard._typeCardsSortShunZi(cards);\r\n } else if (KQCard.containTieZhi(cards)) {\r\n return KQCard._typeCardsSortTieZhi(cards);\r\n } else if (KQCard.containHuLu(cards)) {\r\n return KQCard._typeCardsSortHuLu(cards);\r\n } else if (KQCard.containTongHua(cards)) {\r\n return KQCard._typeCardsSortTongHua(cards);\r\n } else if (KQCard.containShunZi(cards)) {\r\n return KQCard._typeCardsSortShunZi(cards);\r\n } else if (KQCard.containSanTiao(cards)) {\r\n return KQCard._typeCardsSortSanTiao(cards);\r\n } else if (KQCard.containLiaDui(cards)) {\r\n return KQCard._typeCardsSortLiangDui(cards);\r\n } else if (KQCard.containDuiZi(cards)) {\r\n return KQCard._typeCardsSortDuiZi(cards);\r\n }\r\n\r\n return cards.sort(KQCard.sortByPoint).reverse();\r\n };\r\n\r\n KQCard._typeCardsSortShunZi = function (cards) {\r\n return cards.sort(KQCard.sortByPoint).reverse();\r\n };\r\n\r\n KQCard._typeCardsSortTieZhi = function (cards) {\r\n return KQCard._typeCardsSortByNumberOfPoints(cards);\r\n };\r\n\r\n /!*#####*!/\r\n KQCard._typeCardsSortWutong = function (cards) {\r\n return KQCard._typeCardsSortByNumberOfPoints(cards);\r\n };\r\n /!*#####*!/\r\n\r\n KQCard._typeCardsSortHuLu = function (cards) {\r\n return KQCard._typeCardsSortByNumberOfPoints(cards);\r\n };\r\n\r\n KQCard._typeCardsSortTongHua = function (cards) {\r\n return cards.sort(KQCard.sortByPoint).reverse();\r\n };\r\n\r\n KQCard._typeCardsSortSanTiao = function (cards) {\r\n return KQCard._typeCardsSortByNumberOfPoints(cards);\r\n };\r\n\r\n KQCard._typeCardsSortLiangDui = function (cards) {\r\n return KQCard._typeCardsSortByNumberOfPoints(cards);\r\n };\r\n\r\n KQCard._typeCardsSortDuiZi = function (cards) {\r\n return KQCard._typeCardsSortByNumberOfPoints(cards);\r\n };\r\n */\r\nKQCard._typeCardsSortByNumberOfPoints = function(cards) {\r\n\r\n  cards = KQCard._changeGuiCard(cards);\r\n\r\n  cards.forEach(function(i){if(i.scores == 1) i.scores = 14;})\r\n\r\n  let pointHelper = new KQCardScoretsHelper(cards);\r\n  let newCards = cards.slice().sort(function(card1, card2) {\r\n    let numberOfCard1 = pointHelper.pointNumbers[card1.scores];\r\n    let numberOfCard2 = pointHelper.pointNumbers[card2.scores];\r\n\r\n    if (numberOfCard2 != numberOfCard1) {\r\n      return numberOfCard2 - numberOfCard1;\r\n    }\r\n    var scores1 = card1.scores == 1? 14:card1.scores;\r\n    var scores2 = card2.scores == 1? 14:card2.scores;\r\n    return scores2 - scores1;\r\n    //return card2.scores - card1.scores;\r\n  });\r\n  newCards.forEach(function(i){if(i.scores == 14) i.scores = 1;})\r\n  return newCards/*.concat(card20)*/;\r\n};\r\n\r\nKQCard._typeCardsSortByNumberOfPoints1 = function(cards) {\r\n\r\n  cards = KQCard._changeGuiCard(cards);\r\n\r\n  cards.forEach(function(i){if(i.scores == 1) i.scores = 14;})\r\n\r\n  let pointHelper = new KQCardScoretsHelper(cards);\r\n  let newCards = cards.slice().sort(function(card1, card2) {\r\n    let numberOfCard1 = pointHelper.pointNumbers[card1.scores];\r\n    let numberOfCard2 = pointHelper.pointNumbers[card2.scores];\r\n\r\n    if (numberOfCard2 != numberOfCard1) {\r\n      return numberOfCard1 - numberOfCard2;\r\n    }\r\n    var scores1 = card1.scores == 1? 14:card1.scores;\r\n    var scores2 = card2.scores == 1? 14:card2.scores;\r\n    return scores1 - scores2;\r\n    //return card1.scores - card2.scores;\r\n  });\r\n  newCards.forEach(function(i){if(i.scores == 14) i.scores = 1;})\r\n  return newCards;\r\n};\r\n\r\nKQCard._changeGuiCard = function (cards) {\r\n\r\n  var card20 = KQCard.contain20(cards);\r\n\r\n  var ca = cards.kq_excludes(card20);\r\n\r\n  var helper = new KQCardPointsHelper(ca);\r\n\r\n  var so = 0;\r\n\r\n  var color = 1;\r\n\r\n  var type = KQCard.cardsType(cards) + 1;\r\n\r\n  type = type >= 10 ? type : \"0\" + type;\r\n\r\n  if(type == \"05\" || type == \"09\"){\r\n\r\n    return KQCard._changeCardScors(cards);\r\n\r\n  }\r\n  if(type == \"06\"){\r\n\r\n    for(var w in helper.pointNumbers) {\r\n\r\n      var maxNumber = helper.pointNumbers[w];\r\n\r\n      if(w == 1) w = 14;\r\n\r\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\r\n\r\n    }\r\n    color = ca[0].color;\r\n\r\n    so = so == 14? 1: so;\r\n\r\n    card20.forEach(function(n){\r\n\r\n      n.scores = so;\r\n\r\n      n.colorScores = color;\r\n\r\n    });\r\n\r\n  }\r\n  if(type == \"07\" || type == \"22\" || type == \"08\" || type == \"10\"\r\n      || type == \"04\" || type == \"11\" || type == \"02\"){\r\n\r\n    for(var w in helper.pointNumbers) {\r\n\r\n      var maxNumber = helper.pointNumbers[w];\r\n\r\n      if(w == 1) w = 14;\r\n\r\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\r\n\r\n    }\r\n\r\n    so = so == 14 ? 1: so\r\n\r\n    ca.forEach(function(n){if(so == n.point && color < n.color) color = n.color;});\r\n\r\n    card20.forEach(function(n){\r\n\r\n      n.scores = so;\r\n\r\n      n.colorScores = color;\r\n\r\n    }.bind(this));\r\n\r\n  }\r\n\r\n  return card20.concat(ca);\r\n};\r\n\r\nKQCard._setGuiCard = function (index, start, end, type, cards ,nodes, cardSpriteAtlas) {\r\n  //cc.log(cardSpriteAtlas)\r\n  //cc.log('-----593')\r\n  var card20 = KQCard.contain20(cards[index]);\r\n\r\n  var ca = cards[index].kq_excludes(card20);\r\n\r\n  var helper = new KQCardPointsHelper(ca);\r\n\r\n  var so = 0;\r\n\r\n  var color = 1;\r\n\r\n  var node = nodes.slice(start, end).filter(function(n){\r\n\r\n    if(n.childrenCount > 0 && n.children[0].cardName){\r\n\r\n      if(parseInt(n.children[0].cardName.split(\"_\")[1]) == 20) return true;\r\n\r\n    }\r\n  });\r\n\r\n  if(type == \"05\" || type == \"09\"){\r\n\r\n    cards[index] = KQCard._changeCardScors(cards[index]);\r\n\r\n    so = cards[index].filter(function(i){if(i.point == 20)return true;}).map(function(i){return i.scores == 14? 1:i.scores;});\r\n\r\n    node.forEach(function(n){\r\n\r\n      var btnSprite = n.getComponent(cc.Sprite);\r\n\r\n      var cardName = ca[0].color + \"_\" + so.splice(0,1)[0];\r\n\r\n      var path = \"public-pic-card-poker-\" + cardName;\r\n\r\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\r\n\r\n    }.bind(this));\r\n\r\n  }\r\n  if(type == \"06\"){\r\n\r\n    for(var w in helper.pointNumbers) {\r\n\r\n      var maxNumber = helper.pointNumbers[w];\r\n\r\n      if(w == 1) w = 14;\r\n\r\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\r\n\r\n    }\r\n\r\n    color = ca[0].color;\r\n\r\n    so = so == 14? 1: so;\r\n\r\n    node.forEach(function(n){\r\n\r\n      var btnSprite = n.getComponent(cc.Sprite);\r\n\r\n      var cardName = color + \"_\" + so;\r\n\r\n      var path = \"public-pic-card-poker-\" + cardName;\r\n\r\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\r\n\r\n    }.bind(this));\r\n  }\r\n  if(type == \"07\" || type == \"22\" || type == \"08\" || type == \"10\"\r\n      || type == \"04\" || type == \"11\" || type == \"02\"){\r\n\r\n    for(var w in helper.pointNumbers) {\r\n\r\n      var maxNumber = helper.pointNumbers[w];\r\n\r\n      if(w == 1) w = 14;\r\n\r\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\r\n\r\n    }\r\n\r\n    so = so == 14 ? 1: so\r\n\r\n    ca.forEach(function(n){if(so == n.point && color < n.color) color = n.color;});\r\n\r\n    node.forEach(function(n){\r\n\r\n      var btnSprite = n.getComponent(cc.Sprite);\r\n\r\n      var cardName = color + \"_\" + so;\r\n\r\n      var path = \"public-pic-card-poker-\" + cardName;\r\n\r\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\r\n\r\n    }.bind(this));\r\n\r\n\r\n  }\r\n\r\n};\r\n\r\nKQCard._setGuiCards = function (type, cards ,nodes, cardSpriteAtlas) {\r\n  //cc.log(cardSpriteAtlas)\r\n  //cc.log('-----593')\r\n  var card20 = KQCard.contain20(cards);\r\n\r\n  var ca = cards.kq_excludes(card20);\r\n\r\n  var helper = new KQCardPointsHelper(ca);\r\n\r\n  var so = 0;\r\n\r\n  var color = 1;\r\n\r\n  var node = nodes.slice().filter(function(n){\r\n\r\n    if(n.childrenCount > 0 && n.children[0].cardName){\r\n\r\n      if(parseInt(n.children[0].cardName.split(\"_\")[1]) == 20) return true;\r\n\r\n    }\r\n  });\r\n\r\n  if(type == \"05\" || type == \"09\"){\r\n\r\n    cards = KQCard._changeCardScors(cards);\r\n\r\n    so = cards.filter(function(i){if(i.point == 20)return true;}).map(function(i){return i.scores == 14? 1:i.scores;});\r\n\r\n    node.forEach(function(n){\r\n\r\n      var btnSprite = n.getComponent(cc.Sprite);\r\n\r\n      var cardName = ca[0].color + \"_\" + so.splice(0,1)[0];\r\n\r\n      var path = \"public-pic-card-poker-\" + cardName;\r\n\r\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\r\n\r\n    }.bind(this));\r\n\r\n  }\r\n  if(type == \"06\"){\r\n\r\n    for(var w in helper.pointNumbers) {\r\n\r\n      var maxNumber = helper.pointNumbers[w];\r\n\r\n      if(w == 1) w = 14;\r\n\r\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\r\n\r\n    }\r\n\r\n    color = ca[0].color;\r\n\r\n    so = so == 14? 1: so;\r\n\r\n    node.forEach(function(n){\r\n\r\n      var btnSprite = n.getComponent(cc.Sprite);\r\n\r\n      var cardName = color + \"_\" + so;\r\n\r\n      var path = \"public-pic-card-poker-\" + cardName;\r\n\r\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\r\n\r\n    }.bind(this));\r\n  }\r\n  if(type == \"07\" || type == \"22\" || type == \"08\" || type == \"10\"\r\n      || type == \"04\" || type == \"11\" || type == \"02\"){\r\n\r\n    for(var w in helper.pointNumbers) {\r\n\r\n      var maxNumber = helper.pointNumbers[w];\r\n\r\n      if(w == 1) w = 14;\r\n\r\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\r\n\r\n    }\r\n\r\n    so = so == 14 ? 1: so\r\n\r\n    ca.forEach(function(n){if(so == n.point && color < n.color) color = n.color;});\r\n\r\n    node.forEach(function(n){\r\n\r\n      var btnSprite = n.getComponent(cc.Sprite);\r\n\r\n      var cardName = color + \"_\" + so;\r\n\r\n      var path = \"public-pic-card-poker-\" + cardName;\r\n\r\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\r\n\r\n    }.bind(this));\r\n\r\n\r\n  }\r\n\r\n};\r\n\r\nKQCard._loadCardFrame = function(SpriteFrame, path, SpritesNode, w, h) {\r\n  //cc.log(SpriteFrame)\r\n  //cc.log('---769')\r\n  var Sprite = SpriteFrame.getSpriteFrame( path );\r\n\r\n  SpritesNode.spriteFrame = Sprite;\r\n\r\n  if(w) SpritesNode.node.width = w;\r\n\r\n  if(h) SpritesNode.node.height = h;\r\n};\r\n\r\n\r\nKQCard.testScore = function() {\r\n\r\n};"
  ]
}