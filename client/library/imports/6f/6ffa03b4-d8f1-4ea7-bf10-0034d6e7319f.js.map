{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "const Socket = require('socket');\nconst KQGlobalEvent = require('KQGlobalEvent');\nconst ArrayExtension = require('ArrayExtension');\nconst UserModelHelper = require('UserModelHelper');\nconst Playback = require('Playback');\nconst KQCardResHelper = require('KQCardResHelper');\nconst KQCard = require('KQCard');\nconst AudioManager = require('AudioManager');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        foldCardNode: cc.Node,      // 牌盖着时的样子\n        teShuPaiNode: cc.Node,      // 特殊牌盖着时的样子\n        cardsBackLayout: cc.Layout, // 13张牌背影，可用来展示发牌动画 含 cardsBack Component\n        compareCardsNode: cc.Node,  // compareCards   含 CompareCards Component\n        userInfoNode: cc.Node,          // 包含用户信息 含 userInfo Component\n        chatMessageNode: cc.Node,       // 聊天消息 包含 ChatMessage Component\n        userAvatarNode: cc.Node,\n        //userSampleInfoNode: cc.Node,\n        bulletHolePrefab: cc.Prefab,//中枪\n        bulletHoleNode: cc.Node,//中枪\n        shotNode: [cc.Node],//打枪\n        userId: 0,\n        cardTypePrefab: cc.Prefab,\n        // 用户信息\n        // 1、 如果 包含：cardInfo:[]，表明用户已经出牌\n        //\n        _userInfo: null,\n        _deskInfo: null,\n        /**/\n        playedCompareCardsIndexs: {\n            visible: false,\n            default: undefined,\n        }\n        /**/\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.userAvatarNode.on(cc.Node.EventType.TOUCH_START, this._showUserInfo, this);\n        this.reset();\n        this.foldCardNodeBack = false;//判断是否点击了拍的背影\n        this.cardSpriteAtlas = this.node.parent.getComponent('play').cardSpriteAtlas;\n    },\n\n    onDestroy: function () {\n        this.userAvatarNode.off(cc.Node.EventType.TOUCH_START, this._showUserInfo, this);\n    },\n\n    click_leave:function(){\n        var userid = Socket.instance.userInfo.id;\n        var leaveId = this._userInfo.id;\n        Socket.sendQingli(leaveId,userid);\n    },\n    \n    _showUserInfo: function () {\n        //this.userSampleInfoNode.getComponent('UserSampleInfo').updateWithUser(this._userInfo);\n    },\n\n    reset: function () {\n        this.foldCardNode.active = false;\n        this.cardsBackLayout.active = false;\n        this.compareCardsNode.active = false;\n        this.teShuPaiNode.active = false;\n        this.bulletHoleNode.active = false;\n        this.bulletHoleNode.removeAllChildren();\n        this.bulletHoleNode.children.forEach(function(node){node.active = false;});\n        if(this.shotNode.length > 0) this.shotNode.forEach(function(node){if(node) node.active = false;});\n        this.compareCardsNode.getComponent('CompareCards').reset();\n        this.compareCardsNode.getComponent('CompareCards').unscheduleAllCallbacks();\n    },\n\n    /*####*/\n    reset2: function () {\n        this.foldCardNode.active = false;\n        this.cardsBackLayout.active = false;\n        this.teShuPaiNode.active = false;\n        this.bulletHoleNode.active = false;\n        this.bulletHoleNode.removeAllChildren();\n        this.bulletHoleNode.children.forEach(function(node){node.active = false;});\n        if(this.shotNode.length > 0) this.shotNode.forEach(function(node){if(node) node.active = false;});\n        //this.compareCardsNode.active = false;\n        //this.compareCardsNode.getComponent('CompareCards').reset();\n    },\n    /*#####*/\n\n    updateUserInfoWithUsers: function (users) {\n        let user = users.find(function (e) {\n            return this.userId == e.id;\n        }.bind(this));\n\n        this.updateUserInfo(user);\n    },\n    showQingli:function(creator, index){\n        if(!this.node.active){\n            return;\n        }\n        if(index>0){\n            this.userInfoNode.getComponent('userInfo').setqingli(false);\n        }else{\n            if(creator){\n                this.userInfoNode.getComponent('userInfo').setqingli(false);\n            }else{\n                this.userInfoNode.getComponent('userInfo').setqingli(true);\n            }\n        }\n    },\n    updateUserInfo: function (user) {\n        this._userInfo = user;\n        this.node.active = (user != null);\n        this.userInfoNode.active = this.node.active;\n        if (!user) {\n            return;\n        }\n\n        let userInfo = this.userInfoNode.getComponent('userInfo');\n        userInfo.updateAvatar(user.avatarUrl);\n        userInfo.updateUserId(user.id);\n        userInfo.updateNickname(user.nickname);\n        userInfo.setOfflineVisible(!user.onlineStatus);\n\n        //if (this._deskInfo && this._deskInfo.cIndex > 0) {\n        //  if (UserModelHelper.isPlayedCards(user)) {\n        //    this.playCard(user.id);\n        //    this.compareCardsNode.getComponent('CompareCards').setCompareData(user);\n        //  }\n        //}\n        /**/\n        const cIndex = this._deskInfo.cIndex;\n        if (this._deskInfo && cIndex > 0 && (this.playedCompareCardsIndexs.indexOf(cIndex) == -1)) {\n            if (UserModelHelper.isPlayedCards(user)) {\n                this.playCard(user.id,user.cardInfo);\n                this.compareCardsNode.getComponent('CompareCards').setCompareData(user);\n            }\n        }\n        /**/\n    },\n\n    // 更新房主信息\n    updateBanker: function() {\n        let userInfoComp = this.userInfoNode.getComponent('userInfo');\n        if (!this._userInfo) {\n            userInfoComp.setIsBanker(false);\n            return;\n        }\n\n        let isBanker = this._userInfo ? this._userInfo.isBanker : false;\n        userInfoComp.setIsBanker(isBanker);\n    },\n\n    showFangZhuStatus: function (createId, visible = true) {\n        if (!this.node.active) {\n            return;\n        }\n        if (this._userInfo.id == createId) {\n            this.userInfoNode.getComponent('userInfo').setFangZhuNodeVisible(visible);\n        }\n    },\n\n    /**\n     * 更新分数\n     *\n     * @param {Number} score 用户分数、可选\n     */\n    updateScore: function(score) {\n        if (!score && this._userInfo) {\n            score = this._userInfo.totalScore;\n        }\n\n        let userInfo = this.userInfoNode.getComponent('userInfo');\n        userInfo.updateScore(score);\n    },\n\n    showReadyStatus: function (userId, visible = true) {\n        if (!this.node.active) {\n            return;\n        }\n\n        if (this._userInfo.id == userId) {\n            this.userInfoNode.getComponent('userInfo').setReadyNodeVisible(visible);\n        }\n    },\n    showBeilv:function(userId,bl){\n        if(!this.node.active){\n            return;\n        }\n        if( this._userInfo.id == userId ){\n             this.userInfoNode.getComponent('userInfo').setBeilvLabel(bl);\n        }\n    },\n    /*setDeskInfo: function (deskInfo) {\n     this._deskInfo = deskInfo;\n     },*/\n    updateDeskInfo: function (deskInfo) {\n        this._deskInfo = deskInfo;\n\n        if (deskInfo && !deskInfo.isCBegin) {\n            this.reset();\n        }\n    },\n    /**/\n\n    hideReadyStatus: function () {\n        this.userInfoNode.getComponent('userInfo').setReadyNodeVisible(false);\n    },\n\n    playFaPaiAnimation: function () {\n        if (!this.node.active) {\n            return;\n        }\n        if (UserModelHelper.isPlayedCards(this._userInfo)) {\n            return;\n        }\n        let cardsBack = this.cardsBackLayout.getComponent('cardsBack');\n        cardsBack.showPlayCardBacks();\n    },\n\n    shouldShowFaPaiAnimation: function () {\n        return UserModelHelper.isPlayedCards(this._userInfo);\n    },\n\n    setUserOnlineStatus: function (userId, status = 1) {\n        if (userId != this.userId) {\n            return;\n        }\n\n        let userInfo = this.userInfoNode.getComponent('userInfo');\n        userInfo.setOfflineVisible(status != 1);\n    },\n\n    showChatText: function (userId, message) {\n        if (userId != this.userId) {\n            return;\n        }\n\n        let chatMessage = this.chatMessageNode.getComponent('ChatMessage');\n        chatMessage.setString(message);\n    },\n\n    // 用户已经出牌，处于三堆盖着牌的状态\n    playCard: function (userId,cardInfo) {\n        if (this.userId != userId) {\n            return;\n        }\n\n        this.cardsBackLayout.node.active = false;\n        this.compareCardsNode.active = false;\n        this.foldCardNode.targetOff(this.foldCardNode);\n        this.foldCardNode.active = true;\n        this.foldCardNode.children.slice(0,3).forEach(function(node){\n            node.active = true;\n            node.children.forEach(function(noe){\n                noe.active = true;\n\n                var cardSprite = noe.getComponent('cc.Sprite');\n\n                var path = 'public-pic-card-poker-back';\n\n                this._loadCardFrame(this.cardSpriteAtlas, path ,cardSprite);\n\n            }.bind(this));\n        }.bind(this));\n        this.foldCardNode.on(cc.Node.EventType.TOUCH_END, function (event) {\n            this._clickFoldCardNode(event);\n        }.bind(this),this.foldCardNode);\n\n\n    },\n\n    _clickFoldCardNode: function (event) {\n\n        if (this.userId != Socket.instance.userInfo.id) return;\n\n        var cardInfo = this._userInfo.cardInfo.length == 1? this._userInfo.cardInfo[0].cards: this._userInfo.cardInfo;\n\n        var cards = cardInfo.map(function (cardInfoItem) {\n\n            if(this._userInfo.cardInfo.length == 1) return KQCard.cardsFromArray(cardInfoItem);\n\n            return KQCard.cardsFromArray(cardInfoItem.cards);\n\n        }.bind(this)).reduce(function (array, subCards) {return array.concat(subCards);}, []);\n\n        var foldCardNode = this.foldCardNode.children.slice(0,3);\n\n        var nodes = foldCardNode.map(function (node) {return node.children;}).reduce(function (array, sub) {return array.concat(sub);}, []);\n\n        cards.forEach(function (kqCard, index) {\n\n            if (index >= nodes.length) return;\n\n            nodes[index].removeAllChildren();\n\n            nodes[index].getComponent(cc.Sprite).spriteFrame = \"\";\n\n            var nodds1 = new cc.Node(); //创建一个节点对象\n\n            nodds1.width = nodes[0].width;\n\n            nodds1.height = nodes[0].height;\n\n            nodds1.addComponent(cc.Sprite); //添加精灵组件\n\n            var cardSprite = nodds1.getComponent('cc.Sprite');\n\n            cardSprite.sizeMode = 0;\n\n            var cardName = this.foldCardNodeBack == false? kqCard.cardName(): \"back\";\n\n            nodds1.cardName = cardName;\n\n            var path = 'public-pic-card-poker-'+ cardName;\n\n            this._loadCardFrame(this.cardSpriteAtlas, path ,cardSprite);\n\n            if(cc.maPai == cardName){\n\n                var nodds = new cc.Node(); //创建一个节点对象\n\n                nodds.addComponent(cc.Sprite); //添加精灵组件\n\n                cc.loader.loadRes('play/desk/img_red5_1', cc.SpriteFrame, function (err, spriteFrame) {\n\n                    if (err) {cc.error(err.message || err);return;}\n\n                    var btnSprite1 = nodds.getComponent(cc.Sprite);\n\n                    btnSprite1.spriteFrame = spriteFrame;\n\n                    btnSprite1.node.width = cardSprite.node.width + 10;\n\n                    btnSprite1.node.height = cardSprite.node.height + 10;\n\n                }.bind(this));\n\n                cardSprite.node.addChild(nodds);\n\n            }\n\n            nodes[index].addChild(nodds1);\n        }.bind(this));\n\n        var cards0 = cards.slice(0,3)\n        var cards1 = cards.slice(3,8)\n        var cards2 = cards.slice(8,13)\n\n        cards = [cards0, cards1, cards2]\n        //头道\n        let typeName0 = KQCard.cardsType(cards0)+1;\n        typeName0 = typeName0>=10 ? typeName0 :\"0\"+typeName0;\n        typeName0 = typeName0=='04' ? '11' :typeName0;\n\n        //中道\n        let typeName1 = KQCard.cardsType(cards1)+1;\n        typeName1 = typeName1>=10 ? typeName1 :\"0\"+typeName1;\n        typeName1 = typeName1=='07' ? '22' :typeName1;\n\n        //尾道\n        let typeName2 = KQCard.cardsType(cards2)+1;\n        typeName2 = typeName2>=10 ? typeName2 :\"0\"+typeName2;\n\n\n        if(typeName0) KQCard._setGuiCard(0, 0, 3, typeName0, cards, nodes, this.cardSpriteAtlas);\n        if(typeName1) KQCard._setGuiCard(1, 3, 8, typeName1, cards, nodes, this.cardSpriteAtlas);\n        if(typeName2) KQCard._setGuiCard(2, 8, 13, typeName2, cards, nodes, this.cardSpriteAtlas);\n        if(this.foldCardNodeBack == false){\n            this.foldCardNodeBack = true;\n        }\n        else if(this.foldCardNodeBack == true){\n            this.foldCardNodeBack = false;\n        }\n\n    },\n\n    _loadCardFrame: function(SpriteFrame, path, SpritesNode, w, h) {\n\n        var Sprite = SpriteFrame.getSpriteFrame( path );\n\n        SpritesNode.spriteFrame = Sprite;\n\n        if(w) SpritesNode.node.width = w;\n\n        if(h) SpritesNode.node.height = h;\n    },\n\n    // 准备好开始比牌\n    // readyToCompareCards: function () {\n    //     this.foldCardNode.targetOff(this.foldCardNode);\n    //     this.foldCardNodeBack = true;\n    //     this._clickFoldCardNode();\n    //     this.cardsBackLayout.node.active = false;\n    //     this.compareCardsNode.active = true;\n    //     //this.foldCardNode.active = false;\n    //     if(this.compareCardsNode.getComponent('CompareCards')._user){\n    //         if(this.compareCardsNode.getComponent('CompareCards')._user.isContainExtra){\n    //             this.teShuPaiNode.active = true;\n    //         }else{\n    //             this.teShuPaiNode.active = false;\n    //         }\n    //     }\n    // },\n    readyToCompareCards: function () {\n        this.foldCardNode.targetOff(this.foldCardNode);\n        this.foldCardNodeBack = true;\n        this._clickFoldCardNode();\n        this.cardsBackLayout.node.active = false;\n        this.compareCardsNode.active = true;\n        this.foldCardNode.active = true;\n        if(this.compareCardsNode.getComponent('CompareCards')._user){\n            if(this.compareCardsNode.getComponent('CompareCards')._user.isContainExtra){\n                this.teShuPaiNode.active = true;\n            }else{\n                this.teShuPaiNode.active = false;\n            }\n        }\n    },\n\n    // 播放打枪动画\n    // @param userId   要主动打枪的用户id\n    // @param toUserIndex  挨枪的用户的 index\n    playShootAnimation: function (userId, toUserIndex) {\n        if (userId != this.userId) {\n            return;\n        }\n        var shotNode = this.shotNode[toUserIndex];\n        shotNode.active = true;\n        shotNode.children[0].active = true;\n        shotNode.children[1].active = true;\n\n        //枪\n        var rotateBy = cc.rotateTo(0.1,-15);\n        var delay1 = cc.delayTime(0.1);\n        var rotateBy1 = cc.rotateTo(0.1,0);\n        var start_func1 = cc.callFunc(function(){shotNode.children[0].active = true;});\n        var end_func1 = cc.callFunc(function(){shotNode.children[0].active = false;});\n        var action = cc.repeat(cc.sequence(start_func1 ,rotateBy, delay1, rotateBy1, end_func1),3);\n\n        //烟\n        var fadeIn = cc.fadeIn (0);\n        var scaleTo1 = cc.scaleTo (0, 0.8);\n        var scaleTo2 = cc.scaleTo (0.08, 1);\n        var fadeOutAndScaleTo = cc.spawn(cc.fadeOut(0.02), cc.scaleTo(0.02, 0.5));\n        var delay2 = cc.delayTime(.2);\n        var start_func2 = cc.callFunc(function(){shotNode.children[1].active = true;});\n        var end_func2 = cc.callFunc(function(){shotNode.children[1].active = false;});\n        var action1 =  cc.repeat(cc.sequence(start_func2, fadeIn, scaleTo1, scaleTo2, fadeOutAndScaleTo, delay2, end_func2),3);\n\n        shotNode.children[0].runAction(action);\n        shotNode.children[1].runAction(action1);\n\n\n        //let userInfo = this.userInfoNode.getComponent('userInfo');\n        //userInfo.playShootAnimation(toUserIndex);\n    },\n\n    // 播放中枪动画\n    playBulletHoleAnimation: function (userId) {\n        if (userId != this.userId) {\n            return;\n        }\n\n        this.bulletHoleNode.active = true;\n\n        let bulletHoleNode = cc.instantiate(this.bulletHolePrefab);\n\n        bulletHoleNode.children.forEach(function(node){node.active = false;}.bind(this));\n\n        bulletHoleNode.children[0].y = 0;\n\n        this.bulletHoleNode.addChild(bulletHoleNode);\n\n        var interval = 0.3;\n\n        var initTime = 0;\n\n        bulletHoleNode.children.forEach(function(node){\n\n            this.scheduleOnce(function() {\n\n                AudioManager.instance.playHumanZQiang();\n\n                node.active = true;\n\n                var y = Math.round(Math.random()) == 0 ? -1 : 1;\n\n                y = Math.floor(Math.random()*38) * y;\n\n                var x = Math.round(Math.random()) == 0 ? -1 : 1;\n\n                x = Math.floor(Math.random()*38) * x;\n\n                node.x = x;\n\n                node.y = y;\n\n            }, initTime);\n\n            initTime = initTime + interval;\n\n        }.bind(this));\n\n    },\n\n    // 播放全垒打动画\n    playHomeRunAimation: function (userId) {\n        if (userId != this.userId) {\n            return;\n        }\n\n        let userInfo = this.userInfoNode.getComponent('userInfo');\n        userInfo.playHomeRunAimation();\n    },\n\n    playSpeakAnimation: function (userId) {\n        if (userId != this.userId) {\n            return;\n        }\n\n        let userInfo = this.userInfoNode.getComponent('userInfo');\n        userInfo.playSpeakAnimation();\n    },\n\n    nextCompareScore: function () {\n        if (!this.node.active) {\n            return 0;\n        }\n\n        let score = this.compareCardsNode.getComponent('CompareCards').nextCompareScore();\n        return score;\n    },\n\n    showNextCompareCards: function () {\n        if (this.nextCompareScore() <= 0) {\n            return;\n        }\n        this.teShuPaiNode.active = false;\n        this.compareCardsNode.getComponent('CompareCards').showNextCards();\n    },\n\n    showAllCompareCards: function (users) {\n        let user = users.find(function (e) {\n            return this.userId == e.id;\n        }.bind(this));\n        this.compareCardsNode.getComponent('CompareCards').setCompareData(user);\n        this.compareCardsNode.getComponent('CompareCards').showAllCards();\n\n        this.updateScore(this._userInfo.totalScore || 0);\n    },\n\n    showNextCompareScore: function (isContainExtra) {\n        this.compareCardsNode.getComponent('CompareCards').showNextCompareScore(isContainExtra);\n    },\n\n    showScoreResult: function () {\n        this.compareCardsNode.getComponent('CompareCards').showScoreResult();\n    },\n});\n"
  ]
}