{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAM,cAAc,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC;AACjD,IAAM,kBAAkB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;;AAEzD,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;;;;;AAKpB,MAAM,CAAC,SAAS,GAAG,UAAU,SAAS,EAAE;AACtC,MAAI,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AACvD,MAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;AACzD,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,QAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EAAC;AACzB,kBAAY,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AACpC,YAAI,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;;AAG/B,cAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;OACjB,CAAC,CAAC;KACJ;AACD,QAAI,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;AAC7C,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,OAAO,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACnC,YAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KACzB;GACF;;AAED,QAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;AAE/B,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;CACxC,CAAC;;AAEF,MAAM,CAAC,gBAAgB,GAAG,UAAU,SAAS,EAAE,MAAM,EAAE;AACrD,MAAI,SAAS,CAAC,MAAM,GAAG,MAAM,EAAE;AAC7B,WAAO,EAAE,CAAC;GACX;;AAED,MAAI,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC,UAAS,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE;AACpD,QAAI,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;AACxC,OAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,WAAW,CAAC;AAC9B,eAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACxB,WAAO,GAAG,CAAC;GACZ,EAAE,EAAE,CAAC,CAAC;;AAEP,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAK,IAAI,IAAI,IAAI,GAAG,EAAE;AACpB,QAAI,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;;;;;;;AAO5B,WAAM,WAAW,CAAC,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,CAAC,EAAC;;AAChD,UAAI,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,EAAC,MAAM,CAAC,CAAC;AAC3C,UAAI,OAAO,CAAC,MAAM,IAAI,MAAM,EAAC;AAC3B,eAAO,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;AAC7B,iBAAO,EAAE,GAAG,EAAE,CAAC;SAChB,CAAC,CAAC;AACH,cAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;OACtB;KACF;GACF;;AAED,QAAM,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,EAAE;AAChC,QAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACjB,QAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACjB,WAAO,EAAE,GAAG,EAAE,CAAC;GAChB,CAAC,CAAC;AACH,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;CACxC,CAAC;;;;AAIF,MAAM,CAAC,UAAU,GAAG,UAAU,SAAS,EAAE;AACvC,MAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AACpD,MAAI,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,IAAI,EAAE,CAAC;;AAEtD,MAAG,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAC;AACjD,cAAU,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AAChC,iBAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;KAC/B,CAAC,CAAC;GACJ;AACD,MAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,WAAO,EAAE,CAAC;GACX;;AAED,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AAC3C,SAAK,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AAC/C,UAAG,MAAM,CAAC,MAAM,GAAG,EAAE,EAAC;AACpB,YAAI,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;AACzB,YAAI,IAAI,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;AAC1B,YAAI,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzB,YAAI,IAAI,GAAG,EAAE,CAAC;AACd,aAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAC9B,cAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;AAC1B,gBAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;WACjB,MAAI;AACH,kBAAM;WACP;SACF;AACD,YAAG,IAAI,CAAC,MAAM,IAAI,CAAC,EAAC;AAClB,cAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;AAC1B,mBAAO,EAAE,GAAG,EAAE,CAAC;WAChB,CAAC,CAAC;AACH,gBAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SACtB;OACF,MAAI;AACH,cAAM;OACP;KAGF;GACF;AACD,QAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC/B,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAC;AACnB,UAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;GAC5B;AACD,SAAO,MAAM,CAAC;CACf,CAAC;;;;AAIF,MAAM,CAAC,WAAW,GAAG,UAAU,SAAS,EAAE;AACxC,MAAG,SAAS,CAAC,MAAM,GAAG,CAAC,EAAC;AACtB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;;;;;;;AAOzD,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,QAAI,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AACrD,QAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAC;AAC9B,uBAAiB,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;;;;AAIzC,YAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,cAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;;;OAI7B,CAAC,CAAC;KACJ;AACD,QAAI,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;AAC7C,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,OAAO,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACnC,YAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KACzB;GACF;;;;;;;;;;;;;;;;;;;;;;AAsBD,QAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC/B,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;CACxC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAyBF,MAAM,CAAC,eAAe,GAAG,UAAU,KAAK,EAAc;MAAZ,MAAM,yDAAG,CAAC;;AAClD,MAAI,KAAK,CAAC,MAAM,GAAG,MAAM,EAAE;AACzB,WAAO,EAAE,CAAC;GACX;AACD,OAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1B,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AACvB,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KAEF,MAAK,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AAC7B,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KACF,MAAK,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AAC7B,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KACF,MAAK,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AAC7B,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KACF;GACF;;AAED,MAAI,KAAK,GAAG,CAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,CAAC,CAAC;AAC1C,MAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,OAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;AACtB,WAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAS,EAAE,EAAC,EAAE,EAAC;AAC3B,eAAO,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;OAC5B,CAAC,CAAA;AACF,cAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;KACzB;GACF;AACD,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE;AACjC,QAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAA;AACnB,SAAK,IAAI,KAAK,GAAG,CAAC,EAAE,AAAC,KAAK,GAAG,CAAC,IAAK,CAAC,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE;AACpD,UAAI,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;AACzC,UAAI,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;;AAClC,cAAI,MAAM,GAAG,EAAE,CAAC;AAChB,kBAAQ,CAAC,OAAO,CAAC,UAAS,EAAE,EAAE;AAC5B,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAClC,kBAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACjB,kBAAG,CAAC,KAAK,EAAE,EAAC;AACV,sBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACf,sBAAM;eACP;aACF;WACF,CAAC,CAAC;AACH,gBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;AAC/B,gBAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;OACxB;KACF;GACF;;AAED,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAC;AACnB,WAAO,MAAM,CAAC;GACf,MAAI;AACH,QAAI,cAAc,GAAG,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACnD,QAAI,KAAK,KAAK,cAAc,EAAE;AAC5B,WAAK,CAAC,OAAO,CAAC,UAAS,IAAI,EAAC;AAC1B,YAAG,IAAI,CAAC,KAAK,IAAI,EAAE,EAAC;AAClB,cAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,cAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACjB;OACF,CAAC,CAAA;AACF,aAAO,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;KACxC;AACD,WAAO,MAAM,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;GAC/C;;CAEF,CAAC;AACF,MAAM,CAAC,iBAAiB,GAAG,UAAU,IAAI,EAAc;MAAZ,MAAM,yDAAG,CAAC;;AACnD,MAAI,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE;AACxB,WAAO,KAAK,CAAC;GACd;AACD,MAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;AAC1C,MAAG,MAAM,CAAC,MAAM,IAAI,CAAC,EAAC;AACpB,WAAO,KAAK,CAAC;GACd;AACD,MAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;AAErC,OAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1B,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AACvB,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KAEF,MAAK,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AAC7B,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KACF,MAAK,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AAC7B,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KACF,MAAK,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,EAAC;AAC7B,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAC;AACtC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC5B,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB;KACF;GACF;;AAED,MAAI,KAAK,GAAG,CAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,CAAC,CAAC;AAC1C,MAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,OAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,QAAQ,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAC;AAChD,WAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAS,EAAE,EAAC,EAAE,EAAC;AAC3B,eAAO,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;OAC5B,CAAC,CAAA;AACF,cAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;KACzB;GACF;;;AAGD,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE;AACjC,QAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAA;AACnB,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,IAAI,MAAM,CAAC,MAAM,EAAC,EAAE,CAAC,EAAC;AACnC,UAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AAChB,WAAK,IAAI,KAAK,GAAG,CAAC,EAAE,AAAC,KAAK,GAAG,GAAG,IAAK,CAAC,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE;AACtD,YAAI,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC;AAC3C,YAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;AACrF,YAAG,IAAI,EAAC;cAEF,SAAS;;;AADb,gBAAI,MAAM,GAAG,EAAE,CAAC;AACZ,qBAAS,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;;AACjC,oBAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACtC,oBAAQ,CAAC,OAAO,CAAC,UAAS,EAAE,EAAE;AAC5B,mBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACjC,oBAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAChB,oBAAG,CAAC,KAAK,EAAE,EAAC;AACV,wBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACf,wBAAM;iBACP;eACF;aAEF,CAAC,CAAC;AACH,kBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;;AAEhC,kBAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;SAExB;OACF;KACF;GACF;;;AAGD,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAC;AACnB,WAAO,MAAM,CAAC;GACf,MAAI;AACH,QAAI,cAAc,GAAG,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;AAClD,QAAI,IAAI,KAAK,cAAc,EAAE;AAC3B,aAAO,EAAE,CAAC;KACX;AACD,WAAO,MAAM,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;GACjD;;CAEF,CAAC;;;;AAIF,MAAM,CAAC,UAAU,GAAG,UAAU,SAAS,EAAE;AACvC,MAAI,MAAM,GAAI,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACpD,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAC;AACnB,WAAO,MAAM,CAAC;GACf;AACD,QAAM,GAAG,EAAE,CAAC;;AAEZ,MAAI,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AACrD,MAAI,iBAAiB,EAAE;AACrB,qBAAiB,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AACzC,UAAI,aAAa,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,UAAI,aAAa,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,UAAI,aAAa,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,UAAI,aAAa,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,UAAI,aAAa,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,YAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC3B,YAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC3B,YAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC3B,YAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC3B,YAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KAC5B,CAAC,CAAC;GACJ;AACD,MAAG,MAAM,CAAC,MAAM,GAAG,EAAE,EAAC;AACpB,UAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;GAC7B;AACD,QAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC/B,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;CACpE,CAAC;;AAEF,MAAM,CAAC,UAAU,GAAG,UAAU,SAAS,EAAE;AACvC,MAAG,SAAS,CAAC,MAAM,GAAG,CAAC,EAAC;AACtB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;AACvD,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;CACpE,CAAC;;;AAGF,MAAM,CAAC,UAAU,GAAG,UAAU,SAAS,EAAa;MAAZ,MAAM,yDAAG,CAAC;;AAChD,MAAI,SAAS,CAAC,MAAM,GAAG,MAAM,EAAE;AAC7B,WAAO,EAAE,CAAC;GACX;AACD,MAAG,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,AAAC,IAAE,WAAW,EAAC;AAC5C,aAAS,GAAG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;GAC9C;;AAED,MAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,UAAS,KAAK,EAAE,KAAK,EAAE;AACxD,WAAO,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC;GACnC,CAAC,CAAC;AACH,aAAW,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;;;AAGrC,MAAI,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;AACzC,WAAO,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;GACxB,CAAC,CAAC;AACH,MAAI,KAAK,EAAE;AACT,QAAI,SAAS,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;AAClC,aAAS,CAAC,KAAK,GAAG,EAAE,CAAC;AACrB,eAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;GAC7B;;AAED,MAAI,MAAM,GAAG,EAAE,CAAC;;;AAGhB,OAAK,IAAI,KAAK,GAAG,CAAC,EAAE,AAAC,KAAK,GAAG,MAAM,IAAK,WAAW,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE;AACnE,QAAI,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,MAAM,CAAC,CAAC;AACxD,QAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE;;AACrC,YAAI,MAAM,GAAG,EAAE,CAAC;AAChB,gBAAQ,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AAC9B,cAAI,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,UAAU,UAAU,EAAE;;AAEpD,gBAAI,IAAI,CAAC,KAAK,IAAI,EAAE,EAAE;AACpB,qBAAO,UAAU,CAAC,KAAK,IAAI,CAAC,CAAC;aAC9B;;AAED,mBAAO,IAAI,KAAK,UAAU,CAAC;WAC5B,CAAC,CAAC;AACH,gBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpB,CAAC,CAAC;;AAEH,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;AAChC,cAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;KACxB;GACF;;;;AAID,MAAI,iBAAiB,GAAG,MAAM,CAAC,2BAA2B,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;AAC9E,mBAAiB,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AACzC,UAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACxB,CAAC,CAAC;;AAEH,QAAM,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,EAAE;AAChC,WAAO,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;GAC1B,CAAC,CAAC;;AAEH,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;CACpE,CAAC;AACF,MAAM,CAAC,YAAY,GAAG,UAAU,SAAS,EAAc;MAAZ,MAAM,yDAAG,CAAC;;AACnD,MAAI,SAAS,CAAC,MAAM,GAAG,MAAM,EAAE;AAC7B,WAAO,EAAE,CAAC;GACX;AACD,MAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AACzC,MAAG,MAAM,CAAC,MAAM,IAAI,CAAC,EAAC;AACpB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;AAE1C,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,MAAI,OAAO,GAAG,EAAE,CAAC;AACjB,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACrC,QAAI,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;AAC5C,YAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB,aAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;KAC9B;GACF;;AAED,QAAM,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;AAC5B,WAAO,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;GAC5B,CAAC,CAAC;AACH,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,IAAI,MAAM,CAAC,MAAM,EAAC,EAAE,CAAC,EAAC;AACnC,QAAI,GAAG,GAAG,MAAM,GAAG,CAAC,CAAC;AACrB,SAAK,IAAI,KAAK,GAAG,CAAC,EAAE,AAAC,KAAK,GAAG,GAAG,IAAK,MAAM,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE;AAC3D,UAAI,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC;AAChD,UAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,MAAM,CAAC;AACxF,UAAG,IAAI,EAAC;YAEF,SAAS;;;AADb,cAAI,MAAM,GAAG,EAAE,CAAC;AACZ,mBAAS,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;;AACjC,kBAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACtC,kBAAQ,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AAC9B,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACtC,kBAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AACrB,kBAAG,CAAC,KAAK,IAAI,EAAC;AACZ,sBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACf,sBAAM;eACP;aACF;WAEF,CAAC,CAAC;;AAEH,gBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;AAChC,gBAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;OACxB;KACF;GACF;;AAED,MAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAC;AACnB,WAAO,MAAM,CAAC;GACf,MAAI;AACH,QAAI,cAAc,GAAG,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;AACvD,QAAI,SAAS,KAAK,cAAc,EAAE;AAChC,aAAO,KAAK,CAAC;KACd;AACD,WAAO,MAAM,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;GAC5C;CACF,CAAC;AACF,MAAM,CAAC,2BAA2B,GAAG,UAAS,WAAW,EAAE,WAAW,EAAE;AACtE,MAAI,iBAAiB,GAAG,EAAE,CAAC;AAC3B,aAAW,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AACnC,QAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,UAAS,KAAK,EAAE;AACrC,aAAO,WAAW,CAAC,KAAK,CAAC,CAAC;KAC3B,CAAC,CAAC;;AAEH,SAAK,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE,KAAK,EAAE;AAClC,UAAI,WAAW,GAAG,WAAW,CAAC,SAAS,CAAC,UAAS,UAAU,EAAE;AAC3D,YAAG,OAAO,IAAI,AAAC,IAAI,WAAW,EAAC;AAC7B,iBAAO;SACR;AACD,YAAI,UAAU,KAAK,IAAI,IAAI,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,EAAE;AACzD,iBAAO,IAAI,CAAC;SACb;AACD,eAAO,KAAK,CAAC;OACd,CAAC,CAAC;;AAEH,UAAI,WAAW,GAAG,CAAC,EAAE;AACnB,eAAO;OACR;;AAED,UAAI,YAAY,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;AAClC,kBAAY,CAAC,KAAK,CAAC,GAAG,WAAW,CAAC;AAClC,uBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KACtC,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,SAAO,iBAAiB,CAAC;CAC1B,CAAC;;;;AAIF,MAAM,CAAC,WAAW,GAAG,UAAU,SAAS,EAAc;MAAZ,MAAM,yDAAG,CAAC;;AAClD,MAAI,SAAS,CAAC,MAAM,GAAG,MAAM,EAAE;AAC7B,WAAO,EAAE,CAAC;GACX;;AAED,MAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAClC,OAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;;AAE/B,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAK,IAAI,KAAK,GAAG,CAAC,EAAE,AAAC,KAAK,GAAG,MAAM,IAAK,KAAK,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE;AAC7D,QAAI,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,MAAM,CAAC,CAAC;AAClD,QAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE;;AACtC,YAAI,MAAM,GAAG,EAAE,CAAC;AAChB,gBAAQ,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AAC9B,cAAI,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,UAAU,UAAU,EAAE;AACpD,mBAAO,IAAI,KAAK,UAAU,CAAC;WAC5B,CAAC,CAAC;AACD,gBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtB,CAAC,CAAC;;AAEH,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;AAChC,cAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;KACxB;GACF;AACD,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;CACrE,CAAC;AACF,MAAM,CAAC,aAAa,GAAG,UAAU,SAAS,EAAE;AAC1C,MAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AACzC,MAAG,MAAM,CAAC,MAAM,IAAI,CAAC,EAAC;AACpB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;AAE1C,OAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;;AAE/B,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,IAAI,MAAM,CAAC,MAAM,EAAC,EAAE,CAAC,EAAC;AACnC,QAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AAChB,SAAK,IAAI,KAAK,GAAG,CAAC,EAAE,AAAC,KAAK,GAAG,GAAG,IAAK,KAAK,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE;AAC1D,UAAI,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC;AAC/C,UAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE;YAE/B,SAAS;;;AADb,cAAI,MAAM,GAAG,EAAE,CAAC;AACZ,mBAAS,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;;AACjC,kBAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACtC,kBAAQ,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AAC9B,iBAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACtC,kBAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AACrB,kBAAG,CAAC,KAAK,IAAI,EAAC;AACZ,sBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACf,sBAAM;eACP;aACF;WAEF,CAAC,CAAC;;AAEH,gBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;AAChC,gBAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;OACxB;KACF;GACF;;AAED,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;CACxC,CAAC;;AAEF,MAAM,CAAC,QAAQ,GAAG,UAAU,SAAS,EAAE;AACrC,MAAI,MAAM,GAAG,CAAC,CAAC;AACf,MAAI,SAAS,CAAC,MAAM,GAAG,MAAM,EAAE;AAC7B,WAAO,EAAE,CAAC;GACX;;AAGD,MAAI,GAAG,GAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AACtC,MAAI,GAAG,GAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AACrC,MAAI,EAAE,GAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;;;;AAIzC,MAAG,EAAE,CAAC,MAAM,IAAI,CAAC,EAAC;AAChB,QAAI,GAAG,EAAE;AACP,SAAG,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AAC3B,YAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE5C,YAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,UAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;AAExB,UAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;OACzB,CAAC,CAAC;KACJ;;AAED,QAAI,GAAG,EAAE;AACP,SAAG,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AAC3B,YAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;AAK5C,YAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,UAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;;;;AAKxB,UAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;OACzB,CAAC,CAAC;KACJ;GACF;;AAID,MAAI,AAAC,EAAE,IAAI,IAAI,IAAM,GAAG,IAAI,IAAI,AAAC,EAAE;AACjC,WAAO,EAAE,CAAC;GACX;AACD,MAAI,OAAO,GAAC,EAAE,CAAA;AACd,IAAE,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACxB,QAAI,CAAC,GAAC,GAAG,CAAC;AACV,OAAG,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACzB,OAAC,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACpB,WAAI,IAAI,CAAC,GAAE,CAAC,EAAC,CAAC,GAAC,CAAC,CAAC,MAAM,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;AAC5B,YAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB,aAAI,IAAI,CAAC,GAAE,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC5B,cAAG,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AAChB,aAAC,GAAG,IAAI,CAAC;AACT,kBAAM;WACP;SACF;AACD,YAAG,CAAC,IAAI,IAAI,EAAE;AACZ,gBAAM;SACP;OACF;AACD,UAAG,CAAC,KAAK,IAAI,EAAC;AACZ,eAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;OACpB;KACF,CAAC,CAAC;GACJ,CAAC,CAAC;AACH,MAAG,OAAO,CAAC,MAAM,GAAG,EAAE,EAAC;AACrB,WAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;GAC/B;AACD,SAAO,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;CACpE,CAAC;AACF,MAAM,CAAC,UAAU,GAAG,UAAU,SAAS,EAAE;AACvC,MAAI,MAAM,GAAG,CAAC,CAAC;AACf,MAAI,SAAS,CAAC,MAAM,GAAG,MAAM,EAAE;AAC7B,WAAO,EAAE,CAAC;GACX;AACD,MAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAC/C,MAAG,MAAM,CAAC,MAAM,IAAI,CAAC,EAAC;AACpB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,GAAG,GAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;AACvC,MAAI,GAAG,GAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;AACvC,MAAI,GAAG,GAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;AACvC,MAAG,GAAG,IAAE,IAAI,EAAC;AACX,OAAG,GAAC,EAAE,CAAC;GACR;AACD,MAAI,GAAG,EAAE;AACP,OAAG,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AAC3B,UAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,UAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,SAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC5B,SAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KAC7B,CAAC,CAAC;GACJ;;AAED,MAAI,GAAG,EAAE;AACP,OAAG,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AAC3B,UAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,UAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,SAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC5B,SAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KAC7B,CAAC,CAAC;GACJ;;AAED,MAAI,AAAC,GAAG,IAAI,IAAI,IAAM,GAAG,IAAI,IAAI,AAAC,EAAE;AAClC,WAAO,EAAE,CAAC;GACX;AACD,MAAI,OAAO,GAAC,EAAE,CAAA;AACd,KAAG,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACzB,QAAI,CAAC,GAAC,GAAG,CAAC;AACV,OAAG,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACzB,OAAC,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACpB,WAAI,IAAI,CAAC,GAAE,CAAC,EAAC,CAAC,GAAC,CAAC,CAAC,MAAM,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;AAC5B,YAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB,aAAI,IAAI,CAAC,GAAE,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC5B,cAAG,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AAChB,aAAC,GAAG,IAAI,CAAC;AACT,kBAAM;WACP;SACF;AACD,YAAG,CAAC,IAAI,IAAI,EAAE;AACZ,gBAAM;SACP;OACF;AACD,UAAG,CAAC,KAAK,IAAI,EAAC;AACZ,eAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;OACpB;KACF,CAAC,CAAC;GACJ,CAAC,CAAC;AACH,MAAG,OAAO,CAAC,MAAM,GAAG,EAAE,EAAC;AACrB,WAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;GAC/B;AACD,SAAO,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;CAC1C,CAAC;;AAEF,MAAM,CAAC,UAAU,GAAG,UAAU,SAAS,EAAa;MAAZ,MAAM,yDAAG,CAAC;;AAChD,MAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAS,IAAI,EAAC;;AACzD,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACtC,UAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AACrB,UAAG,CAAC,KAAK,IAAI,EAAC;AACZ,eAAO,CAAC,CAAC;OACV;KACF;GACF,CAAC,CAAC;AACH,MAAG,MAAM,CAAC,MAAM,IAAI,CAAC,EAAC;AACpB,WAAO,EAAE,CAAC;GACX;AACD,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,OAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,IAAI,MAAM,CAAC,MAAM,EAAC,EAAE,CAAC,EAAC;AACnC,QAAI,GAAG,GAAG,MAAM,GAAC,CAAC,CAAC;AACnB,QAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC;AAC3D,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpC,UAAG,MAAM,IAAI,CAAC,EAAC;;AACb,aAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,MAAM,CAAC,MAAM,EAAC,EAAE,CAAC,EAAC;AAClC,cAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACpC,cAAG,CAAC,CAAC,MAAM,IAAI,MAAM,EAAC;AACpB,kBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;WAChB;SACF;OACF,MAAI;AACH,YAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,YAAG,CAAC,CAAC,MAAM,IAAI,MAAM,EAAC;AACpB,gBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAChB;OACF;KACF;GACF;AACD,MAAG,MAAM,CAAC,MAAM,GAAG,EAAE,EAAC;AACpB,UAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;GAC7B;AACD,QAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC/B,SAAO,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;CACxC,CAAC;;AAEF,MAAM,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE;AAChC,OAAI,IAAI,CAAC,GAAE,CAAC,EAAC,CAAC,GAAC,MAAM,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC/B,QAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;;AAEtB,QAAI,MAAM,GAAG,EAAE,CAAC;AAChB,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;;AACjC,UAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;AAChC,cAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;OACvB,MAAI;AACH,cAAM,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AACnB,cAAM;OACP;KACF;;AAED,SAAI,IAAI,CAAC,GAAE,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;AACnC,UAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAClB,UAAI,OAAO,GAAG,EAAE,CAAC;AACjB,UAAI,OAAO,GAAG,EAAE,CAAC;AACjB,WAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC3B,eAAO,GAAG,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,eAAO,GAAG,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;OAChC;AACD,UAAG,OAAO,IAAI,OAAO,EAAC;;AACpB,cAAM,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AACnB,cAAM;OACP;KACF;GAEF;AACD,SAAO,MAAM,CAAC;CACf,CAAC;;AAGF,MAAM,CAAC,QAAQ,GAAG,UAAU,SAAS,EAAE;AACrC,MAAI,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAChD,MAAI,WAAW,GAAG,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAC1D,MAAI,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAChD,MAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAC5C,MAAI,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAClD,MAAI,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAChD,MAAI,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAClD,MAAI,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAChD,MAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAC9C,MAAI,MAAM,GAAG,CACX,MAAM,EACN,WAAW,EACX,MAAM,EACN,IAAI,EACJ,OAAO,EACP,MAAM,EACN,OAAO,EACP,MAAM,EACN,KAAK,CACN,CAAA;AACD,SAAO,MAAM,CAAC;CACf,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "const KQCard = require('KQCard');\r\nconst ArrayExtension = require('ArrayExtension');\r\nconst KQCardPointsHelper = require('KQCardPointsHelper');\r\n\r\nmodule.exports = {};\r\n\r\n// 寻找 cardModes 中的 对子\r\n// 这会返回 对子 的索引数组\r\n// 如：[[1, 3], [4, 5]]\r\nKQCard.findDuiZi = function (cardModes) {\r\n  let sDuiZiIndexs = KQCard.findSanTiao(cardModes) || [];\r\n  let result = KQCard._findPointLength(cardModes, 2) || [];\r\n  if(result.length < 2 ){\r\n    if(sDuiZiIndexs.length > 0){\r\n      sDuiZiIndexs.forEach(function(indexs) {\r\n        var s1 = [indexs[0],indexs[1]];\r\n        //var s2 = [indexs[1],indexs[2]];\r\n        //result.push(s2);\r\n        result.push(s1);\r\n      });\r\n    }\r\n    var tresult = KQCard.findGuiPai(cardModes,2);\r\n    for(var i = 0;i < tresult.length;i++){\r\n      result.push(tresult[i]);\r\n    }\r\n  }\r\n\r\n  result = KQCard.repeat(result);\r\n\r\n  return result.length > 0 ? result : [];\r\n};\r\n\r\nKQCard._findPointLength = function (cardModes, length) {\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n\r\n  let obj = cardModes.reduce(function(obj, card, index) {\r\n    let pointIndexs = obj[card.point] || [];\r\n    obj[card.point] = pointIndexs;\r\n    pointIndexs.push(index);\r\n    return obj;\r\n  }, {});\r\n\r\n  let result = [];\r\n  for (var prop in obj) {\r\n    let pointIndexs = obj[prop];\r\n    // if (pointIndexs.length == length) {\r\n    //   pointIndexs.sort(function (n1, n2) {\r\n    //     return n1 - n2;\r\n    //   });\r\n    //   result.push(pointIndexs);\r\n    // }\r\n    while(pointIndexs.length >= length && length != 0){//有多的分割多个数组\r\n      var splices = pointIndexs.splice(0,length);\r\n      if (splices.length >= length){\r\n        splices.sort(function (n1, n2) {\r\n          return n1 - n2;\r\n        });\r\n        result.push(splices);\r\n      }\r\n    }\r\n  }\r\n\r\n  result.sort(function (arr1, arr2) {\r\n    let n1 = arr1[0];\r\n    let n2 = arr2[0];\r\n    return n2 - n1;\r\n  });\r\n  return result.length > 0 ? result : [];\r\n};\r\n\r\n// 找 两对 的索引数组\r\n// 如：[[1, 2, 3, 4], [5, 6, 7, 8]]\r\nKQCard.findLiaDui = function (cardModes) {\r\n  let duiZiIndexs = KQCard.findDuiZi(cardModes) || [];\r\n  let duiZiIndex = KQCard.findGuiPai(cardModes,2) || [];\r\n\r\n  if(duiZiIndexs.length < 1 && duiZiIndex.length > 0){\r\n    duiZiIndex.forEach(function(indexs) {\r\n        duiZiIndexs.unshift(indexs);\r\n    });\r\n  }\r\n  if (duiZiIndexs.length < 2) {\r\n    return [];\r\n  }\r\n\r\n  let result = [];\r\n  for (let i = 0; i < duiZiIndexs.length; ++i) {\r\n    for (let j = i + 1; j < duiZiIndexs.length; ++j) {\r\n      if(result.length < 10){\r\n        let pre = duiZiIndexs[i];\r\n        let next = duiZiIndexs[j];\r\n        var s = pre.concat(next);\r\n        var newS = [];\r\n        for(var q = 0;q < s.length ;q++){\r\n          if(newS.indexOf(s[q]) == -1){\r\n            newS.push(s[q]);\r\n          }else{\r\n            break;\r\n          }\r\n        }\r\n        if(newS.length == 4){\r\n          newS.sort(function (n1, n2) {\r\n            return n1 - n2;\r\n          });\r\n          result.unshift(newS);\r\n        }\r\n      }else{\r\n        break;\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n  result = KQCard.repeat(result);\r\n  if(result.length > 6){\r\n    result = result.slice(0,6);\r\n  }\r\n  return result;\r\n};\r\n\r\n// 找三条\r\n// 如：[[1, 2, 3]];\r\nKQCard.findSanTiao = function (cardModes) {\r\n  if(cardModes.length < 3){\r\n    return [];\r\n  }\r\n  let result = KQCard._findPointLength(cardModes, 3) || [];\r\n  //for(var q =0;q<result.length;q++){\r\n  //  var indexs = result[q][0];\r\n  //  if(cardModes[indexs].point >= 20){\r\n  //    result.splice(q,1);\r\n  //  }\r\n  //}\r\n  if(result.length < 2 ){\r\n    let tieZhiIndexsArray = KQCard.findTieZhi(cardModes);\r\n    if(tieZhiIndexsArray.length > 0){\r\n      tieZhiIndexsArray.forEach(function(indexs) {\r\n        //let sanTiaoIndexs1 = [indexs[1], indexs[2], indexs[3]];\r\n        //let sanTiaoIndexs2 = [indexs[0], indexs[1], indexs[3]];\r\n        //let sanTiaoIndexs3 = [indexs[0], indexs[2], indexs[3]];\r\n        let sanTiaoIndexs0 = [indexs[0], indexs[1], indexs[2]];\r\n        result.push(sanTiaoIndexs0);\r\n        //result.unshift(sanTiaoIndexs1);\r\n        //result.unshift(sanTiaoIndexs2);\r\n        //result.unshift(sanTiaoIndexs3);\r\n      });\r\n    }\r\n    var tresult = KQCard.findGuiPai(cardModes,3);\r\n    for(var i = 0;i < tresult.length;i++){\r\n      result.push(tresult[i]);\r\n    }\r\n  }\r\n  /*if(result.length < 1){\r\n    // 铁支是包含三条的\r\n    let tieZhiIndexsArray = KQCard.findTieZhi(cardModes);\r\n    if (tieZhiIndexsArray) {\r\n      tieZhiIndexsArray.forEach(function(indexs) {\r\n        //let sanTiaoIndexs1 = [indexs[1], indexs[2], indexs[3]];\r\n        //let sanTiaoIndexs2 = [indexs[0], indexs[1], indexs[3]];\r\n        //let sanTiaoIndexs3 = [indexs[0], indexs[2], indexs[3]];\r\n        let sanTiaoIndexs0 = [indexs[0], indexs[1], indexs[2]];\r\n        result.push(sanTiaoIndexs0);\r\n        //result.unshift(sanTiaoIndexs1);\r\n        //result.unshift(sanTiaoIndexs2);\r\n        //result.unshift(sanTiaoIndexs3);\r\n      });\r\n    }\r\n  }*/\r\n\r\n  //if(result.length > 10){\r\n  //  result = result.slice(0,10);\r\n  //}\r\n\r\n  result = KQCard.repeat(result);\r\n  return result.length > 0 ? result : [];\r\n};\r\n\r\n// 找同花顺\r\n/*KQCard.findTongHuaShun = function (cardModes, length = 5) {\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n  let result = [];\r\n  var sanShunZi = KQCard.sanShunZi1(cardModes,length);\r\n  if(sanShunZi[0] == null){\r\n    return false;\r\n  }\r\n  for(var i=0;i<sanShunZi[0].length;i++) {\r\n    var s = sanShunZi[0][i];\r\n    if (KQCard.isTongHuaShun(s, length)) {\r\n      result.unshift(sanShunZi[1][i]);\r\n\r\n    }\r\n  }\r\n  if(result.length > 0){\r\n    return result\r\n  }else{\r\n    return KQCard.findTongHuaShun1(cardModes);\r\n  }\r\n};*/\r\nKQCard.findTongHuaShun = function (cards, length = 5) {\r\n  if (cards.length < length) {\r\n    return [];\r\n  }\r\n  cards = Array.from(cards);\r\n  var colorS = []; //黑桃\r\n  var colorH = []; //红心\r\n  var colorC = []; //梅花\r\n  var colorD = []; //方块\r\n  var pointS = []; //黑桃\r\n  var pointH = []; //红心\r\n  var pointC = []; //梅花\r\n  var pointD = []; //方块\r\n  for(var i=0;i<cards.length;i++){\r\n    if(cards[i].color == '4'){\r\n      if(pointS.indexOf(cards[i].point) == -1){\r\n        pointS.push(cards[i].point);\r\n        colorS.push(cards[i]);\r\n      }\r\n\r\n    }else if(cards[i].color == '3'){\r\n      if(pointH.indexOf(cards[i].point) == -1){\r\n        pointH.push(cards[i].point);\r\n        colorH.push(cards[i]);\r\n      }\r\n    }else if(cards[i].color == '2'){\r\n      if(pointC.indexOf(cards[i].point) == -1){\r\n        pointC.push(cards[i].point);\r\n        colorC.push(cards[i]);\r\n      }\r\n    }else if(cards[i].color == '1'){\r\n      if(pointD.indexOf(cards[i].point) == -1){\r\n        pointD.push(cards[i].point);\r\n        colorD.push(cards[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  var color = [colorS,colorH,colorC,colorD];\r\n  var colorSum = [];    //总共有几种花色 [5,3,0....]\r\n  for(var i=0;i<color.length;i++){\r\n    if(color[i].length >= 5){\r\n      color[i].sort(function(a1,a2){\r\n        return a1.point - a2.point;\r\n      })\r\n      colorSum.push(color[i]);\r\n    }\r\n  }\r\n  var result = [];\r\n  for(var i=0;i<colorSum.length;i++) {\r\n    var s = colorSum[i]\r\n    for (var start = 0; (start + 5) <= s.length; ++start) {\r\n      var subCards = s.slice(start, start + 5);\r\n      if (KQCard.isTongHuaShun(subCards)) {\r\n        let indexs = [];\r\n        subCards.forEach(function(ca) {\r\n          for(var q = 0;q < cards.length; q++){\r\n            var r = cards[q];\r\n            if(r === ca){\r\n              indexs.push(q);\r\n              break;\r\n            }\r\n          }\r\n        });\r\n        indexs.sort(Array.sortByPoint);\r\n        result.unshift(indexs);\r\n      }\r\n    }\r\n  }\r\n\r\n  if(result.length > 0){\r\n    return result;\r\n  }else{\r\n    let convertedCards = KQCard._convertOneToA1(cards);\r\n    if (cards === convertedCards) {\r\n      cards.forEach(function(adfs){\r\n        if(adfs.point == 14){\r\n          adfs.point = 1;\r\n          adfs.scores = 1;\r\n        }\r\n      })\r\n      return KQCard.findTongHuaShun20(cards);\r\n    }\r\n    return KQCard.findTongHuaShun(convertedCards);\r\n  }\r\n  //return result.length > 0 ? result : null;\r\n};\r\nKQCard.findTongHuaShun20 = function (card, length = 5) {\r\n  if (card.length < length) {\r\n    return false;\r\n  }\r\n  var card20 = KQCard.contain20(card) || [];\r\n  if(card20.length <= 0){\r\n    return false;\r\n  }\r\n  var cards = card.kq_excludes(card20);\r\n\r\n  cards = Array.from(cards);\r\n  var colorS = []; //黑桃\r\n  var colorH = []; //红心\r\n  var colorC = []; //梅花\r\n  var colorD = []; //方块\r\n  var pointS = []; //黑桃\r\n  var pointH = []; //红心\r\n  var pointC = []; //梅花\r\n  var pointD = []; //方块\r\n  for(var i=0;i<cards.length;i++){\r\n    if(cards[i].color == '4'){\r\n      if(pointS.indexOf(cards[i].point) == -1){\r\n        pointS.push(cards[i].point);\r\n        colorS.push(cards[i]);\r\n      }\r\n\r\n    }else if(cards[i].color == '3'){\r\n      if(pointH.indexOf(cards[i].point) == -1){\r\n        pointH.push(cards[i].point);\r\n        colorH.push(cards[i]);\r\n      }\r\n    }else if(cards[i].color == '2'){\r\n      if(pointC.indexOf(cards[i].point) == -1){\r\n        pointC.push(cards[i].point);\r\n        colorC.push(cards[i]);\r\n      }\r\n    }else if(cards[i].color == '1'){\r\n      if(pointD.indexOf(cards[i].point) == -1){\r\n        pointD.push(cards[i].point);\r\n        colorD.push(cards[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  var color = [colorS,colorH,colorC,colorD];\r\n  var colorSum = [];    //总共有几种花色 [5,3,0....]\r\n  for(var i=0;i<color.length;i++){\r\n    if(color[i].length >= parseInt(5 - card20.length)){\r\n      color[i].sort(function(a1,a2){\r\n        return a1.point - a2.point;\r\n      })\r\n      colorSum.push(color[i]);\r\n    }\r\n  }\r\n  //cc.log(colorSum)\r\n\r\n  var result = [];\r\n  for(var i=0;i<colorSum.length;i++) {\r\n    var s = colorSum[i]\r\n    for(var j = 1;j <= card20.length;++j){\r\n      var num = 5 - j;\r\n      for (var start = 0; (start + num) <= s.length; ++start) {\r\n        var subCards = s.slice(start, start + num);\r\n        var bool = parseInt(subCards[num-1]['scores']) - parseInt(subCards[0]['scores']) < 5;\r\n        if(bool){\r\n          let indexs = [];\r\n          var newCard20 = card20.slice(0,j);\r\n          subCards = subCards.concat(newCard20);\r\n          subCards.forEach(function(ca) {\r\n            for(var q = 0;q < card.length; q++){\r\n              var r = card[q];\r\n              if(r === ca){\r\n                indexs.push(q);\r\n                break;\r\n              }\r\n            }\r\n\r\n          });\r\n          indexs.sort(Array.sortByNumber);\r\n\r\n          result.unshift(indexs);\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //cc.log(result)\r\n  //cc.log('--------357')\r\n  if(result.length > 0){\r\n    return result;\r\n  }else{\r\n    let convertedCards = KQCard._convertOneToA1(card);\r\n    if (card === convertedCards) {\r\n      return [];\r\n    }\r\n    return KQCard.findTongHuaShun20(convertedCards);\r\n  }\r\n  //return result.length > 0 ? result : null;\r\n};\r\n\r\n// 找铁支\r\n// 如：[[1,2,3,4]]\r\nKQCard.findTieZhi = function (cardModes) {\r\n  var result =  KQCard._findPointLength(cardModes, 4);\r\n  if(result.length > 0){\r\n    return result;\r\n  }\r\n  result = [];\r\n  // 五同是包含铁支的\r\n  let wuTongIndexsArray = KQCard.findWuTong(cardModes);\r\n  if (wuTongIndexsArray) {\r\n    wuTongIndexsArray.forEach(function(indexs) {\r\n      let tieZhiIndexs0 = [indexs[0], indexs[1], indexs[2], indexs[3]];\r\n      let tieZhiIndexs1 = [indexs[0], indexs[1], indexs[2], indexs[4]];\r\n      let tieZhiIndexs2 = [indexs[0], indexs[1], indexs[3], indexs[4]];\r\n      let tieZhiIndexs3 = [indexs[0], indexs[2], indexs[3], indexs[4]];\r\n      let tieZhiIndexs4 = [indexs[1], indexs[2], indexs[3], indexs[4]];\r\n      result.push(tieZhiIndexs0);\r\n      result.push(tieZhiIndexs1);\r\n      result.push(tieZhiIndexs2);\r\n      result.push(tieZhiIndexs3);\r\n      result.push(tieZhiIndexs4);\r\n    });\r\n  }\r\n  if(result.length > 10){\r\n    result = result.slice(0,10);\r\n  }\r\n  result = KQCard.repeat(result);\r\n  return result.length > 0 ? result : KQCard.findGuiPai(cardModes,4);\r\n};\r\n//找五同\r\nKQCard.findWuTong = function (cardModes) {\r\n  if(cardModes.length < 5){\r\n    return [];\r\n  }\r\n  var result = this._findPointLength(cardModes, 5) || [];\r\n  return result.length > 0 ? result : KQCard.findGuiPai(cardModes,5);\r\n};\r\n// 找顺子\r\n// 如：[[1, 2, 3, 4, 5]]\r\nKQCard.findShunZi = function (cardModes,length = 5) {\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n  if(typeof(cardModes[0]['point'])==\"undefined\"){\r\n    cardModes = KQCard.cardsFromArray(cardModes);\r\n  }\r\n  // 先根据点数去重\r\n  let uniqueCards = cardModes.unique(function(card1, card2) {\r\n    return card1.point == card2.point;\r\n  });\r\n  uniqueCards.sort(KQCard.sortByPoint);\r\n\r\n  // 如果有 A，则在最后添加 14\r\n  let cardA = cardModes.find(function (card) {\r\n    return card.point == 1;\r\n  });\r\n  if (cardA) {\r\n    let cardAPlus = new KQCard(cardA);\r\n    cardAPlus.point = 14;\r\n    uniqueCards.push(cardAPlus);\r\n  }\r\n\r\n  let result = [];\r\n\r\n  // 由于点数是唯一且升序，只需要依次遍历判断是否是顺子即可\r\n  for (var start = 0; (start + length) <= uniqueCards.length; ++start) {\r\n    let subCards = uniqueCards.slice(start, start + length);\r\n    if (KQCard.isShunZi(subCards, length)) {\r\n      let indexs = [];\r\n      subCards.forEach(function(card) {\r\n        let index = cardModes.findIndex(function (originCard) {\r\n\r\n          if (card.point == 14) {\r\n            return originCard.point == 1;\r\n          }\r\n\r\n          return card === originCard;\r\n        });\r\n        indexs.push(index);\r\n      });\r\n\r\n      indexs.sort(Array.sortByNumber);\r\n      result.unshift(indexs);\r\n    }\r\n  }\r\n\r\n  // 处理点数重复的情况\r\n  // 比如 A A K Q J 10 这种 \r\n  let repeatIndexsArray = KQCard._findRepeatPointIndexsArray(result, cardModes);\r\n  repeatIndexsArray.forEach(function(indexs) {\r\n    result.unshift(indexs);\r\n  });\r\n\r\n  result.sort(function (arr1, arr2) {\r\n    return arr1[0] - arr2[0];\r\n  });\r\n\r\n  return result.length > 0 ? result : KQCard.findShunZi20(cardModes);\r\n};\r\nKQCard.findShunZi20 = function (cardModes ,length = 5) {\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n  var card20 = KQCard.contain20(cardModes);\r\n  if(card20.length <= 0){\r\n    return [];\r\n  }\r\n  var cards = cardModes.kq_excludes(card20);\r\n  // 先根据点数去重\r\n  var newArr = [];\r\n  var newArrs = [];\r\n  for (var i = 0; i < cards.length; i++) {\r\n    if (newArrs.indexOf(cards[i]['point']) == -1) {\r\n      newArr.push(cards[i]);\r\n      newArrs.push(cards[i].point);\r\n    }\r\n  }\r\n\r\n  newArr.sort(function (n1, n2) {\r\n    return n1.point - n2.point;\r\n  });\r\n  var result = [];\r\n  for(var j = 1;j <= card20.length;++j){\r\n    var num = length - j;\r\n    for (var start = 0; (start + num) <= newArr.length; ++start) {\r\n      var subCards = newArr.slice(start, start + num);\r\n      var bool = parseInt(subCards[num-1]['point']) - parseInt(subCards[0]['point']) < length;\r\n      if(bool){\r\n        let indexs = [];\r\n        var newCard20 = card20.slice(0,j);\r\n        subCards = subCards.concat(newCard20);\r\n        subCards.forEach(function(card) {\r\n          for(var q = 0;q < cardModes.length; q++){\r\n            var r = cardModes[q];\r\n            if(r === card){\r\n              indexs.push(q);\r\n              break;\r\n            }\r\n          }\r\n\r\n        });\r\n\r\n        indexs.sort(Array.sortByNumber);\r\n        result.unshift(indexs);\r\n      }\r\n    }\r\n  }\r\n\r\n  if(result.length > 0){\r\n    return result;\r\n  }else{\r\n    let convertedCards = KQCard._convertOneToA1(cardModes);\r\n    if (cardModes === convertedCards) {\r\n      return false;\r\n    }\r\n    return KQCard.findShunZi20(convertedCards);\r\n  }\r\n};\r\nKQCard._findRepeatPointIndexsArray = function(indexsArray, originCards) {\r\n  let repeatIndexsArray = [];\r\n  indexsArray.forEach(function(indexs) {\r\n    let cards = indexs.map(function(index) {\r\n      return originCards[index];\r\n    });\r\n\r\n    cards.forEach(function(card, index) {\r\n      let originIndex = originCards.findIndex(function(originCard) {\r\n        if(typeof(card) == 'undefined'){\r\n          return;\r\n        }\r\n        if (originCard !== card && originCard.point == card.point) {\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n\r\n      if (originIndex < 0) {\r\n        return;\r\n      }\r\n\r\n      let repeatIndexs = indexs.slice();\r\n      repeatIndexs[index] = originIndex;\r\n      repeatIndexsArray.push(repeatIndexs);\r\n    });\r\n  });\r\n\r\n  return repeatIndexsArray;\r\n};\r\n\r\n// 找同花\r\n// 如：[[1, 2, 3, 4, 5]]\r\nKQCard.findTongHua = function (cardModes, length = 5) {\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n\r\n  let cards = Array.from(cardModes);\r\n  cards.sort(KQCard.sortByColor);\r\n\r\n  let result = [];\r\n  for (var start = 0; (start + length) <= cards.length; ++start) {\r\n    let subCards = cards.slice(start, start + length);\r\n    if (KQCard.isTongHua(subCards, length)) {\r\n      let indexs = [];\r\n      subCards.forEach(function(card) {\r\n        let index = cardModes.findIndex(function (originCard) {\r\n          return card === originCard;\r\n        });\r\n          indexs.push(index);\r\n      });\r\n      //indexs = indexs.length > 5 ? indexs.splice(1,1) : indexs;\r\n      indexs.sort(Array.sortByNumber);\r\n      result.unshift(indexs);\r\n    }\r\n  }\r\n  return result.length > 0 ? result : KQCard.findTongHua20(cardModes);\r\n};\r\nKQCard.findTongHua20 = function (cardModes) {\r\n  if (cardModes.length < 5) {\r\n    return [];\r\n  }\r\n  var card20 = KQCard.contain20(cardModes);\r\n  if(card20.length <= 0){\r\n    return [];\r\n  }\r\n  var cards = cardModes.kq_excludes(card20);\r\n  // 先根据点数去重\r\n  cards.sort(KQCard.sortByColor);\r\n\r\n  var result = [];\r\n  for(var j = 1;j <= card20.length;++j){\r\n    var num = 5 - j;\r\n    for (var start = 0; (start + num) <= cards.length; ++start) {\r\n      var subCards = cards.slice(start, start + num);\r\n      if (KQCard.isTongHua(subCards, num)) {\r\n        let indexs = [];\r\n        var newCard20 = card20.slice(0,j);\r\n        subCards = subCards.concat(newCard20);\r\n        subCards.forEach(function(card) {\r\n          for(var q = 0;q < cardModes.length; q++){\r\n            var r = cardModes[q];\r\n            if(r === card){\r\n              indexs.push(q);\r\n              break;\r\n            }\r\n          }\r\n\r\n        });\r\n\r\n        indexs.sort(Array.sortByNumber);\r\n        result.unshift(indexs);\r\n      }\r\n    }\r\n  }\r\n\r\n  return result.length > 0 ? result : [];\r\n};\r\n\r\nKQCard.findHuLu = function (cardModes) {\r\n  let length = 5;\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n\r\n\r\n  var p_3=KQCard.findSanTiao(cardModes);\r\n  var p_4=KQCard.findTieZhi(cardModes);\r\n  var p2=KQCard.findDuiZi(cardModes) || [];\r\n  //var p_3 =  this._findPointLength(cardModes, 3) || [];\r\n  //var p_4 = this._findPointLength(cardModes, 4) || [];\r\n  //var p2 = this._findPointLength(cardModes, 2) || [];\r\n  if(p2.length <= 0){\r\n    if (p_3) {\r\n      p_3.forEach(function(indexs) {\r\n        let sanTiaoIndexs0 = [indexs[0], indexs[1]];\r\n        //let sanTiaoIndexs1 = [indexs[0], indexs[2]];\r\n        let sanTiaoIndexs3 = [indexs[1], indexs[2]];\r\n        p2.push(sanTiaoIndexs0);\r\n        //p2.unshift(sanTiaoIndexs1);\r\n        p2.push(sanTiaoIndexs3);\r\n      });\r\n    }\r\n\r\n    if (p_4) {\r\n      p_4.forEach(function(indexs) {\r\n        let sanTiaoIndexs0 = [indexs[0], indexs[1]];\r\n        //let sanTiaoIndexs1 = [indexs[0], indexs[2]];\r\n        //let sanTiaoIndexs2 = [indexs[0], indexs[3]];\r\n        //let sanTiaoIndexs3 = [indexs[1], indexs[2]];\r\n        //let sanTiaoIndexs4 = [indexs[1], indexs[3]];\r\n        let sanTiaoIndexs6 = [indexs[2], indexs[3]];\r\n        p2.push(sanTiaoIndexs0);\r\n        //p2.unshift(sanTiaoIndexs1);\r\n        //p2.unshift(sanTiaoIndexs2);\r\n        //p2.unshift(sanTiaoIndexs3);\r\n        //p2.unshift(sanTiaoIndexs4);\r\n        p2.push(sanTiaoIndexs6);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  if ((p2 == null) || (p_3 == null)) {\r\n    return [];\r\n  }\r\n  var tresult=[]\r\n  p2.forEach(function (i_3) {\r\n    var s=i_3;\r\n    p_3.forEach(function (i_2) {\r\n      s = i_3.concat(i_2);\r\n      for(var i =0;i<s.length-1;i++){\r\n        var index = s[i];\r\n        for(var j =i+1;j<s.length;j++){\r\n          if(index == s[j]) {\r\n            s = null;\r\n            break;\r\n          }\r\n        }\r\n        if(s == null) {\r\n          break;\r\n        }\r\n      }\r\n      if(s !== null){\r\n        tresult.unshift(s);\r\n      }\r\n    });\r\n  });\r\n  if(tresult.length > 10){\r\n    tresult = tresult.slice(0,10);\r\n  }\r\n  return tresult.length > 0 ? tresult : KQCard.findHuLu20(cardModes);\r\n};\r\nKQCard.findHuLu20 = function (cardModes) {\r\n  let length = 5;\r\n  if (cardModes.length < length) {\r\n    return [];\r\n  }\r\n  var card20 = KQCard.contain20(cardModes) || [];\r\n  if(card20.length <= 0){\r\n    return [];\r\n  }\r\n  var p_3=KQCard.findGuiPai(cardModes,3);\r\n  var p_4=KQCard.findGuiPai(cardModes,4);\r\n  var p_2=KQCard.findGuiPai(cardModes,2);\r\n  if(p_2==null){\r\n    p_2=[];\r\n  }\r\n  if (p_3) {\r\n    p_3.forEach(function(indexs) {\r\n      let sanTiaoIndexs0 = [indexs[0], indexs[1]];\r\n      let sanTiaoIndexs3 = [indexs[1], indexs[2]];\r\n      p_2.unshift(sanTiaoIndexs0);\r\n      p_2.unshift(sanTiaoIndexs3);\r\n    });\r\n  }\r\n\r\n  if (p_4) {\r\n    p_4.forEach(function(indexs) {\r\n      let sanTiaoIndexs0 = [indexs[0], indexs[1]];\r\n      let sanTiaoIndexs6 = [indexs[2], indexs[3]];\r\n      p_2.unshift(sanTiaoIndexs0);\r\n      p_2.unshift(sanTiaoIndexs6);\r\n    });\r\n  }\r\n\r\n  if ((p_2 == null) || (p_3 == null)) {\r\n    return [];\r\n  }\r\n  var tresult=[]\r\n  p_2.forEach(function (i_3) {\r\n    var s=i_3;\r\n    p_3.forEach(function (i_2) {\r\n      s = i_3.concat(i_2);\r\n      for(var i =0;i<s.length-1;i++){\r\n        var index = s[i];\r\n        for(var j =i+1;j<s.length;j++){\r\n          if(index == s[j]) {\r\n            s = null;\r\n            break;\r\n          }\r\n        }\r\n        if(s == null) {\r\n          break;\r\n        }\r\n      }\r\n      if(s !== null){\r\n        tresult.unshift(s);\r\n      }\r\n    });\r\n  });\r\n  if(tresult.length > 10){\r\n    tresult = tresult.slice(0,10);\r\n  }\r\n  return tresult.length > 0 ? tresult : [];\r\n};\r\n\r\nKQCard.findGuiPai = function (cardModes,numBer = 1) {\r\n  var card20 = KQCard.contain20(cardModes).map(function(card){//得到鬼牌的索引\r\n    for(var q = 0;q < cardModes.length; q++){\r\n      var r = cardModes[q];\r\n      if(r === card){\r\n        return q;\r\n      }\r\n    }\r\n  });\r\n  if(card20.length <= 0){\r\n    return [];\r\n  }\r\n  var result = [];\r\n  for(var j = 1;j <= card20.length;++j){\r\n    var num = numBer-j;//除鬼牌外 我应该找多少张牌匹配\r\n    var indexs = KQCard._findPointLength(cardModes, num) || [];\r\n    for(var t = 0;t < indexs.length; t++) {\r\n      if(numBer == 2){//是对子的时候把鬼牌和单张匹配都循环一遍\r\n        for(var o = 0;o < card20.length;++o){\r\n          var s = indexs[t].concat(card20[o]);\r\n          if(s.length == numBer){\r\n            result.push(s);\r\n          }\r\n        }\r\n      }else{\r\n        var s = indexs[t].concat(card20.slice(0,j));//依次相加鬼牌第一次加一张 递增\r\n        if(s.length == numBer){\r\n          result.push(s);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if(result.length > 10){\r\n    result = result.slice(0,10);\r\n  }\r\n  result = KQCard.repeat(result);//去重\r\n  return result.length > 0 ? result : [];\r\n};\r\n\r\nKQCard.repeat = function (result) {\r\n  for(var i =0;i<result.length;i++){\r\n    var index = result[i];\r\n\r\n    var newAyy = [];\r\n    for(var o = 0;o < index.length;o++){//有重复干掉你\r\n      if(newAyy.indexOf(index[o]) == -1){\r\n        newAyy.push(index[o]);\r\n      }else{\r\n        result.splice(i,1);\r\n        break;\r\n      }\r\n    }\r\n\r\n    for(var j =i+1;j<result.length-1;j++){\r\n      var s = result[j];\r\n      var jString = '';\r\n      var iString = '';\r\n      for(var r = 0;r < s.length;r++){\r\n          jString = jString + s[r];\r\n          iString = iString + index[r];\r\n      }\r\n      if(jString == iString){//有重复干掉你\r\n        result.splice(i,1);\r\n        break;\r\n      }\r\n    }\r\n\r\n  }\r\n  return result;\r\n};\r\n\r\n\r\nKQCard.testFind = function (cardModes) {\r\n  var WuTong = KQCard.findWuTong(cardModes) || [];\r\n  var TongHuaShun = KQCard.findTongHuaShun(cardModes) || [];\r\n  var TieZhi = KQCard.findTieZhi(cardModes) || [];\r\n  var HuLu = KQCard.findHuLu(cardModes) || [];\r\n  var TongHua = KQCard.findTongHua(cardModes) || [];\r\n  var ShunZi = KQCard.findShunZi(cardModes) || [];\r\n  var SanTiao = KQCard.findSanTiao(cardModes) || [];\r\n  var LiaDui = KQCard.findLiaDui(cardModes) || [];\r\n  var DuiZi = KQCard.findDuiZi(cardModes) || [];\r\n  var result = [\r\n    WuTong,\r\n    TongHuaShun,\r\n    TieZhi,\r\n    HuLu,\r\n    TongHua,\r\n    ShunZi,\r\n    SanTiao,\r\n    LiaDui,\r\n    DuiZi,\r\n  ]\r\n  return result;\r\n};\r\n"
  ]
}