{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "const KQCard = require('KQCard');\r\nconst KQCardFindTypeExtension = require('KQCardFindTypeExtension');\r\nconst AudioManager = require('AudioManager');\r\nconst play = require('play');\r\nconst KQCardScoretsHelper = require('KQCardScoretsHelper');\r\n// 牌类型 component\r\n//\r\ncc.Class({\r\n    extends: cc.Component,\r\n    statics: {\r\n        instances: null,\r\n    },\r\n    properties: {\r\n        cardsLayout: cc.Layout,\r\n        // btnDuiZi: cc.Button,\r\n        // btnLiangDui: cc.Button,\r\n        // btnSanTiao: cc.Button,\r\n        // btnShunZi: cc.Button,\r\n        // btnTongHua: cc.Button,\r\n        // btnHuLu: cc.Button,\r\n        // btnTieZhi: cc.Button,\r\n        // btnTongHuaShun: cc.Button,\r\n        // btnWuTong: cc.Button,\r\n        // typeButtonsNode: cc.Node,\r\n        btnDeleteTouDao: cc.Button,   // 头道\r\n        btnDeleteZhongDao: cc.Button, // 中道\r\n        btnDeleteWeiDao: cc.Button,   // 尾道\r\n        btnCancelAll: cc.Button,      // 全部取消\r\n        btnDone: cc.Button,           // 确定出牌\r\n        timeNode: cc.Node,\r\n        labelTime: cc.Label,\r\n        layoutTouDao: cc.Layout,\r\n        layoutZhongDao: cc.Layout,\r\n        layoutWeiDao: cc.Layout,\r\n        cardAllNode:cc.Node,\r\n        cardPrefab: cc.Prefab,\r\n        cardTypePrefab: cc.Prefab,\r\n\r\n        touDaoNode:cc.Node,\r\n        zhongDaoNode:cc.Node,\r\n        weiDaoNode:cc.Node,\r\n\r\n        autoCardScrollView: cc.ScrollView,\r\n        autoCard: cc.Prefab,\r\n        autoCardLayout: cc.Layout,\r\n        autoCardAnimation:cc.Node,\r\n\r\n\r\n        LayoutWithEvent: [],\r\n\r\n        BtnClickGongXiNiComfirm:false,  //用于检查用户是否点击了恭喜你页面的确定按钮\r\n        cardsLayoutSortColor: false,\r\n        /*#####*/\r\n\r\n        _cardOffsetY: null,\r\n\r\n        _kqCardModes: [],\r\n        _allCardModes: [],\r\n        _findCardTypeObject: null,  // 用来记录找到的牌型对象\r\n        _findCardIndex: null,  // 用来记录找到的牌型对象\r\n\r\n        _finishSelectCardsCallback: null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.BtnClickGongXiNiComfirm = false;\r\n        this.cardsLayoutSortColor = false;\r\n        this._cardOffsetY = 0;\r\n        this._registerTouchEvents();\r\n        this._registerDaosLayoutClickEvent();\r\n        this.reset();\r\n        this._findCardIndex = {};\r\n        this.cardTime = 0.3;\r\n\r\n        this.cardSpriteAtlas = this.node.parent.getComponent('play').cardSpriteAtlas;\r\n        this.daoSpriteAtlas = this.node.parent.getComponent('play').daoSpriteAtlas;\r\n    },\r\n\r\n    /*#####点击空白地方将牌收回去*/\r\n    onClickCardTypeCombineNode: function () {\r\n        this._resetCardsPositionY();\r\n    },\r\n\r\n    _hideDeleteButtons: function () {\r\n        //this.btnDeleteTouDao.node.active = false;\r\n        //this.btnDeleteZhongDao.node.active = false;\r\n        //this.btnDeleteWeiDao.node.active = false;\r\n    },\r\n\r\n    // 重置，回到最初始有状态\r\n    reset: function () {\r\n        this._hideDeleteButtons();\r\n        this.clearCards();\r\n        this.timeStop();\r\n        //this._typeButtons().forEach(function (button) {\r\n        //    button.interactable = false;\r\n        //});\r\n        this._allCardModes = [];\r\n    },\r\n\r\n    cardsLayoutSort: function (e) {\r\n        var nodeAyy = e.target.children;\r\n        if(nodeAyy[0].active == true){//按大小\r\n            this.cardsLayoutSortColor = true;\r\n            nodeAyy[0].active = false;\r\n            nodeAyy[1].active = true;\r\n            this._resetCardsPositionX();\r\n            return;\r\n        }\r\n        else if(nodeAyy[1].active == true){//按花色\r\n            this.cardsLayoutSortColor = false;\r\n            nodeAyy[0].active = true;\r\n            nodeAyy[1].active = false;\r\n            this._resetCardsPositionX();\r\n        }\r\n        //this.cardsLayoutSortColor = nodeAyy[1].active == false;\r\n        //this.cardsLayoutSortColor == true\r\n    },\r\n\r\n    addCards: function (cardNames) {\r\n        cc.assert(cardNames);\r\n        this._resetCardsPositionY();\r\n        //cardNames.sort(function(a1,a2){\r\n        //    return a1.split('_')[0] - a2.split('_')[0];\r\n        //})\r\n        cardNames.forEach(function(card,index){\r\n            this.addCard(card,false,index)\r\n        }.bind(this));\r\n        //this.cardsLayoutSort();\r\n        this._resetCardsPositionX();\r\n        this._reloadKQCardModesInner();\r\n        this._resetTypeButtonEnablesWithModels(this._kqCardModes);\r\n    },\r\n\r\n    addCard: function (cardName, autoChangePositionX = false,index = null) {\r\n        cc.assert(cardName.length > 0);\r\n\r\n        let cardPrefab = cc.instantiate(this.cardPrefab);\r\n        cardPrefab.name = cardName;\r\n        // if(cc.maPai){\r\n        //     var cardMaPai = '3_' + cc.maPai;\r\n        //     if(cardName == cardMaPai){\r\n        //         cardPrefab.color = new cc.Color(226, 145, 145);\r\n        //     }\r\n        // }\r\n        cardPrefab.getComponent('CardPrefab').setCard(cardName,index);\r\n        this.cardsLayout.node.addChild(cardPrefab);\r\n        cardPrefab.setPositionY(this._cardOffsetY);\r\n\r\n        if (autoChangePositionX) {\r\n            this._resetCardsPositionX();\r\n        }\r\n        //let newCard = new KQCard(cardName,null,index);\r\n        //let originCard = this._allCardModes.find(function(card) {\r\n        //    return card.isEqual(newCard);\r\n        //});\r\n        //if (originCard == null && !autoChangePositionX) {\r\n        //    this._allCardModes.push(newCard);\r\n        //}\r\n    },\r\n\r\n    addCardModes: function (cardNames) {\r\n        cc.assert(cardNames.length > 0);\r\n        this._allCardModes = [];\r\n        cardNames.forEach(function(cardName,index){\r\n            let newCard = new KQCard(cardName,null,index);\r\n            this._allCardModes.push(newCard);\r\n        }.bind(this));\r\n    },\r\n\r\n    reloadCards: function (cardNames) {\r\n        //cardNames=['1_1', '2_1', '3_11', '1_12', '2_2', '3_2', '4_11', '4_12', '3_13', '2_5', '1_13', '4_3', '1_3'];\r\n        // cardNames=['1_1', '2_1', '3_11', '1_12', '2_2', '3_2', '4_11', '4_12', '3_13', '2_5', '1_13', '4_3', '1_3'];\r\n        //三度同花\r\n        // cardNames=['2_13', '2_5', '2_7', '3_1', '3_2', '3_4', '3_3', '3_13', '1_12', '1_6', '1_1', '1_4', '1_5'];\r\n        //三同花顺\r\n        //  cardNames=['2_1', '2_2', '2_3', '2_4', '2_5', '3_6', '3_7', '3_8', '3_9', '3_10', '4_1', '4_2', '4_3'];\r\n        //一条龙\r\n        // cardNames=['2_1', '2_2', '2_3', '2_4', '2_5', '3_6', '3_7', '3_8', '3_9', '3_10', '1_11', '1_12', '1_13'];\r\n        //三顺子\r\n        //cardNames=['4_1', '3_2', '4_3', '1_7', '4_5', '4_6', '3_9', '4_8', '3_1', '1_13', '4_12', '4_11', '2_10'];\r\n        // cardNames=['3_5', '3_4', '4_3', '1_2', '3_1', '4_9', '3_9', '4_8', '3_10', '1_13', '4_12', '4_11', '2_10'];\r\n        // cardNames=['3_5', '3_4', '4_3', '1_2', '3_1', '4_5', '3_6', '4_8', '3_6', '1_13', '4_12', '4_11', '2_7'];\r\n        //cardNames=['3_4', '3_4', '4_6', '2_20', '1_20', '1_20', '3_6', '4_8', '3_6', '1_8', '4_12', '4_11', '2_20'];\r\n        //三丰天下\r\n        //cardNames=['1_1', '2_1', '3_1', '1_2', '2_2', '3_2', '4_1', '4_2', '3_3', '2_3', '1_3', '4_3', '1_13'];\r\n        //4丰天下\r\n        // cardNames=['1_1', '2_1', '3_1', '1_4', '2_4', '3_2', '4_2', '1_2', '3_4', '2_3', '1_3', '4_3', '1_2'];\r\n        //六岁半\r\n        // cardNames=['1_1', '2_1', '3_11', '1_12', '2_2', '3_2', '4_11', '4_12', '3_13', '2_5', '1_13', '4_3', '1_3'];\r\n        //cardNames=['1_9', '2_11', '3_8', '1_12', '2_2', '3_2', '1_13', '2_5', '3_5','1_4', '2_4', '3_4', '3_10'];\r\n        // cardNames=['4_9', '2_3', '3_4', '3_6', '2_1', '2_4', '2_2', '2_5', '2_13','2_8', '2_10', '2_11', '2_12'];\r\n        //   cardNames=['4_2', '2_3', '3_4', '3_5', '2_1', '2_4', '2_2', '2_5', '2_13','2_8', '2_10', '2_11', '2_12'];\r\n        //cardNames=['4_1', '2_1', '1_4', '3_4', '1_6', '2_6', '1_8', '3_8', '2_8','2_12', '1_12', '2_13', '3_13'];\r\n        // cardNames=['4_9', '2_3', '3_4', '3_6', '2_8', '2_9', '2_10', '2_11', '2_13','3_13', '3_12', '2_12', '1_12'];\r\n        // cardNames=['4_9', '2_9', '3_4', '3_6', '1_8', '2_1', '2_5', '2_4', '2_3','3_13', '3_12', '2_2', '1_12'];\r\n        //cardNames=['3_2', '4_2', '2_4', '3_5', '1_5', '3_7', '2_7', '3_10', '2_1','2_13', '2_10', '2_12', '2_11'];\r\n        //cardNames=['4_2', '4_3', '4_4', '4_5', '4_5', '4_6', '4_12', '4_13', '2_12','3_12', '2_8', '3_8', '2_11'];\r\n        //cardNames=['4_3', '1_3', '4_5', '4_5', '3_5', '2_5', '1_20', '4_11', '3_12','4_12', '4_8', '4_1', '1_12'];\r\n        //cardNames=['4_3', '1_3', '4_5', '4_5', '2_20', '1_20', '1_20', '4_11', '3_12','4_12', '4_8', '4_1', '1_12'];\r\n        //cardNames=['4_3', '3_4', '4_6', '4_5', '2_7', '1_20', '1_3', '4_4', '3_6','4_7', '4_8', '2_12', '1_12'];\r\n        cc.log(cardNames)\r\n        this.clearCards();\r\n        this._kqCardModes = [];\r\n        this.addCards(cardNames);\r\n    },\r\n\r\n    clearCards: function () {\r\n        this.cardsLayout.node.removeAllChildren();\r\n        this.layoutTouDao.node.removeAllChildren();\r\n        this.layoutZhongDao.node.removeAllChildren();\r\n        this.layoutWeiDao.node.removeAllChildren();\r\n    },\r\n\r\n    removeCard: function (cardName) {\r\n        if (!cardName.length) {\r\n            return;\r\n        }\r\n\r\n        this.cardsLayout.node.getChildByName(cardName).removeFromParent();\r\n    },\r\n\r\n    setFinishSelectCardsCallback: function (callback) {\r\n        this._finishSelectCardsCallback = callback;\r\n        this.node.active = false;\r\n    },\r\n\r\n    _reloadKQCardModesInner: function () {\r\n        //this._kqCardModes = this.cardsLayout.node.children.map(function (cardPrefabNode) {\r\n        //    let cardPrefab = cardPrefabNode.getComponent('CardPrefab');\r\n        //    return cardPrefab.cardMode();\r\n        //}).sort(KQCard.sort);\r\n        //this._findCardTypeObject = null;\r\n    },\r\n\r\n    _typeButtons: function () {\r\n        //return [\r\n        //    this.btnDuiZi,\r\n        //    this.btnLiangDui,\r\n        //    this.btnSanTiao,\r\n        //    this.btnShunZi,\r\n        //    this.btnTongHua,\r\n        //    this.btnHuLu,\r\n        //    this.btnTieZhi,\r\n        //    this.btnTongHuaShun,\r\n        //    /*#####*/\r\n        //    //this.btnWuTong,\r\n        //    /*#####*/\r\n        //];\r\n    },\r\n\r\n    _resetTypeButtonEnablesWithModels: function (cardModes) {\r\n        /*cardModes.length == 13*/\r\n        //cardModes = cardModes || this._kqCardModes;\r\n        //\r\n        ///*#####初始化牌*/\r\n        //var ButtonsLayoutChilds = this.typeButtonsNode.children;\r\n        //for(var i=0;i<ButtonsLayoutChilds.length;i++){\r\n        //    ButtonsLayoutChilds[i].interactable = false;\r\n        //}\r\n        //\r\n        //this.btnDuiZi.interactable = KQCard.containDuiZi(cardModes);\r\n        //this.btnLiangDui.interactable = KQCard.containLiaDui(cardModes);\r\n        //this.btnSanTiao.interactable = KQCard.containSanTiao(cardModes);\r\n        //this.btnShunZi.interactable = KQCard.containShunZi(cardModes);\r\n        //this.btnTongHua.interactable = KQCard.containTongHua(cardModes);\r\n        //this.btnHuLu.interactable = KQCard.containHuLu(cardModes);\r\n        //this.btnTieZhi.interactable = KQCard.containTieZhi(cardModes);\r\n        //this.btnTongHuaShun.interactable = KQCard.containTongHuaShun(cardModes);\r\n        ////this.btnWuTong.interactable = KQCard.containWuTong(cardModes);\r\n        ////KQCard.isTeShuPai(cardModes)\r\n        ////let typeName = KQCard.cardsTyp-eName(cardModes);\r\n        ////KQCard.isLiuDuiBan(cardModes);\r\n        ////alert(this.btnShunZi.interactable)\r\n        ///*#####如果有多一色，就是设置无同按钮的可交互性*/\r\n        ////if(cc.duoYiSe == 0) {\r\n        ////    this.wuTongNode = this.typeButtonsNode.getChildByName(\"btnWuTong\");\r\n        ////    this.btnWuTong = this.wuTongNode.getComponent(cc.Button);\r\n        ////    this.btnWuTong.interactable = KQCard.containWuTong(cardModes);\r\n        ////}\r\n        ///*#####*/\r\n        //\r\n        //this._autoActiveTypeButtons();\r\n        //\r\n        ///*#####设置按钮可交互和不可交互时的透明度*/\r\n        //for(var i=0;i<ButtonsLayoutChilds.length;i++){\r\n        //    if(ButtonsLayoutChilds[i].getComponent(cc.Button).interactable){\r\n        //        ButtonsLayoutChilds[i].opacity = 255;\r\n        //    }else{\r\n        //        ButtonsLayoutChilds[i].opacity = 125;\r\n        //    }\r\n        //}\r\n    },\r\n\r\n    // 将找到了牌类型的牌突出出来\r\n    _stickOutFindCardType: function (title, findMethods) {\r\n\r\n        // 先根据牌类型找出所有的索引集合\r\n        //var findedIndexsArray = null;\r\n        //this._findCardTypeObject = this._findCardTypeObject || {};\r\n        //if (this._findCardTypeObject.title != title) {\r\n        //    findedIndexsArray = (findMethods() || []).reverse();\r\n        //\r\n        //    for(var i =0;i<findedIndexsArray.length-1;i++){//删除同类型牌\r\n        //        var index = findedIndexsArray[i];\r\n        //        /*if(title == 'liangDui'){\r\n        //         let jStringspoint = index.map(function(indexs){\r\n        //         return this._kqCardModes[indexs].point;\r\n        //         }.bind(this));\r\n        //         var isBreak = false;\r\n        //         var repNum = jStringspoint.reduce(function(p,n){\r\n        //         if(!p[n]){\r\n        //         p[n] = 1;\r\n        //         }else{\r\n        //         p[n] += 1\r\n        //         }\r\n        //         return p\r\n        //         },{});\r\n        //         for(var y in repNum){\r\n        //         if(repNum[y] >= 3){\r\n        //         isBreak = true;\r\n        //         }\r\n        //         }\r\n        //         if(isBreak){\r\n        //         cc.log(repNum)\r\n        //         cc.log(findedIndexsArray)\r\n        //         cc.log(i)\r\n        //         cc.log('--------291')\r\n        //         findedIndexsArray.splice(i,1);\r\n        //         continue;\r\n        //         }\r\n        //         }*/\r\n        //        var iString = '';\r\n        //        for(var j =i+1;j<findedIndexsArray.length;j++){\r\n        //            var s = findedIndexsArray[j];\r\n        //            var jString = '';\r\n        //\r\n        //            let iStrings = s.map(function(index){\r\n        //                let cardModel = this._kqCardModes[index];\r\n        //                return cardModel.cardName();\r\n        //            }.bind(this));\r\n        //\r\n        //            let jStrings = index.map(function(indexs){\r\n        //                let cardModel = this._kqCardModes[indexs];\r\n        //                return cardModel.cardName();\r\n        //            }.bind(this));\r\n        //\r\n        //\r\n        //            for(var r = 0;r < index.length;r++){\r\n        //                jString = jString + iStrings[r];\r\n        //                iString = iString + jStrings[r];\r\n        //            }\r\n        //\r\n        //            if(jString == iString){\r\n        //                findedIndexsArray.splice(i,1);\r\n        //                break;\r\n        //            }\r\n        //        }\r\n        //    }\r\n        //\r\n        //    this._findCardTypeObject = {\r\n        //        title: title,\r\n        //        indexsArray: findedIndexsArray,\r\n        //        //index: title==\"duiZi\"?findedIndexsArray.length-1:0\r\n        //        index: 0\r\n        //    };\r\n        //}\r\n        //\r\n        //findedIndexsArray = this._findCardTypeObject.indexsArray;\r\n        //if (!findedIndexsArray || findedIndexsArray.length == 0) {\r\n        //    return;\r\n        //}\r\n        //// 将已有的突出的牌的位置重置回初始位置\r\n        //this._resetCardsPositionY();\r\n        //\r\n        //// 计算出要突出的牌数组\r\n        //var index = this._findCardTypeObject.index;\r\n        //let indexs = findedIndexsArray[index];\r\n        //\r\n        //let selectedCardNames = indexs.map(function(index){\r\n        //    let cardModel = this._kqCardModes[index];\r\n        //    return cardModel.cardName();\r\n        //}.bind(this));\r\n        //\r\n        //let cardNodes = this.cardsLayout.node.children.filter(function (cardNode) {\r\n        //    let cardPrefab = cardNode.getComponent('CardPrefab');\r\n        //    if(selectedCardNames.includes(cardPrefab.cardName())) {\r\n        //        var nameIndex = selectedCardNames.indexOf(cardPrefab.cardName());\r\n        //        selectedCardNames.splice(nameIndex,1);\r\n        //        return true;\r\n        //    }\r\n        //    return false;\r\n        //});\r\n\r\n        //// 突出计算出来的牌数组\r\n        //this._changeCardPrefabsY(cardNodes);\r\n        //// 保存好，用于再次点击了突出下一组牌\r\n        //index = (index + 1) % findedIndexsArray.length;\r\n        //this._findCardTypeObject.index = index;\r\n    },\r\n\r\n    clickDuiZi: function () {\r\n        this._stickOutFindCardType(\"duiZi\", function () {\r\n            return KQCard.findDuiZi(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickLiangDui: function () {\r\n        this._stickOutFindCardType(\"liangDui\", function () {\r\n            return KQCard.findLiaDui(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickSanTiao: function () {\r\n        this._stickOutFindCardType(\"sanTiao\", function () {\r\n            return KQCard.findSanTiao(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickShunZi: function () {\r\n        this._stickOutFindCardType(\"shunZi\", function () {\r\n            return KQCard.findShunZi(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickTongHua: function () {\r\n        this._stickOutFindCardType(\"tongHua\", function () {\r\n            return KQCard.findTongHua(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickHuLu: function () {\r\n        this._stickOutFindCardType(\"huLu\", function () {\r\n            return KQCard.findHuLu(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickTieZhi: function () {\r\n        this._stickOutFindCardType(\"tieZhi\", function () {\r\n            return KQCard.findTieZhi(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    /*#####*/\r\n    clickWuTong: function () {\r\n        this._stickOutFindCardType(\"wuTong\", function () {\r\n            return KQCard.findWuTong(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n    /*#####*/\r\n\r\n    clickTongHuaShun: function () {\r\n        this._stickOutFindCardType(\"tongHuaShun\", function () {\r\n            return KQCard.findTongHuaShun(this._kqCardModes);\r\n        }.bind(this));\r\n    },\r\n\r\n    clickCancelAll: function () {\r\n        this.clickDeleteTouDao();\r\n        this.clickDeleteZhongDao();\r\n        this.clickDeleteWeiDao();\r\n    },\r\n\r\n    /*点击完成按钮*/\r\n    clickDone: function () {\r\n        cc.sys.localStorage.removeItem(\"timestamp\");\r\n        this.cardAlls =  this.cardAllNode.children.sort(function(a,b){return b.y - a.y;}).map(function(i){return i.children[0];});\r\n\r\n        let touCardModels = this._taoDaoCardModes();\r\n        let zhongCardModes = this._zhongDaoCardModes();\r\n        let weiCardModes = this._weiDaoCardModes();\r\n        this._didSelectedCards(touCardModels, zhongCardModes, weiCardModes);\r\n    },\r\n\r\n    /*点击恭喜你页面的确定按钮*/\r\n    onBtnGongXiNiComfirmClick:function () {\r\n        //记录玩家点击了确定按钮：\r\n        this.BtnClickGongXiNiComfirm = true;\r\n\r\n        var cards = [];\r\n\r\n        cc.teShuPaiCards.forEach(function(i){cards = cards.concat(i);});\r\n\r\n        var teShuPaiCardsServerInfo = this._convertCardsToServerModel2(cards);\r\n        var result = [teShuPaiCardsServerInfo];\r\n        if (this._finishSelectCardsCallback) {\r\n            this._finishSelectCardsCallback(result);\r\n        }\r\n    },\r\n\r\n    _didSelectedCards: function (touCards, zhongCards, weiCards) {\r\n        touCards = touCards || [];\r\n        zhongCards = zhongCards || [];\r\n        weiCards = weiCards || [];\r\n        let touServerInfo = this._convertCardsToServerModel(touCards);\r\n        let zhongServerInfo = this._convertCardsToServerModel(zhongCards);\r\n        let weiServerInfo = this._convertCardsToServerModel(weiCards);\r\n\r\n        //console.log(touServerInfo);\r\n        //console.log(zhongServerInfo);\r\n        //console.log(weiServerInfo);\r\n        //console.log(\"---------------------------------512\");\r\n        if(!(touServerInfo.value < zhongServerInfo.value && zhongServerInfo.value <= weiServerInfo.value)){\r\n            this.autoCardAnimation.y = -50;\r\n            this.autoCardAnimation.opacity = 255;\r\n            this.autoCardAnimation.runAction(cc.moveTo(1, cc.p(0, 0)));\r\n            this.scheduleOnce(function () {\r\n                var action = cc.spawn(cc.moveTo(this.cardTime, cc.p(0, 10)), cc.fadeOut(this.cardTime));\r\n                this.autoCardAnimation.runAction(action);\r\n            }.bind(this), 1.5);\r\n            return;\r\n        }\r\n        let result = [touServerInfo, zhongServerInfo, weiServerInfo];\r\n        //return;\r\n        if (this._finishSelectCardsCallback) {\r\n            this._finishSelectCardsCallback(result);\r\n        }\r\n    },\r\n\r\n    clickDeleteTouDao: function () {\r\n        this._deleteDaoCardsOfLayout(this.layoutTouDao.node);\r\n    },\r\n\r\n    clickDeleteZhongDao: function () {\r\n        this._deleteDaoCardsOfLayout(this.layoutZhongDao.node);\r\n    },\r\n\r\n    clickDeleteWeiDao: function () {\r\n        this._deleteDaoCardsOfLayout(this.layoutWeiDao.node);\r\n    },\r\n\r\n    // 计时器事件\r\n    timeStart: function (duration) {\r\n        cc.assert(duration > 0);\r\n        this.timeStop();\r\n        this.timeNode.active = true;\r\n        var timestamp = cc.sys.localStorage.getItem(\"timestamp\");  // 获取本地存储的时间戳\r\n        if(timestamp){  // 如果有则证明玩家是重新进来了的\r\n            var now = Date.parse(new Date());\r\n            var time = duration*1000;\r\n            if(now - timestamp > time){ // 超时\r\n                if(now - timestamp < 2*time){\r\n                    duration = 5;  // 玩家可能出于其他原因退出游戏导致超时，为其提供5秒时间整理牌型（这已经是很仁慈的了）。\r\n                }else{\r\n                    cc.sys.localStorage.removeItem(\"timestamp\");\r\n                }\r\n            }else{\r\n                duration = Math.floor( duration - (now - timestamp)/1000);\r\n            }\r\n        }else{  // 如果没有时间戳，则保存，为玩家退出游戏保留证据；\r\n            var timestamp = Date.parse(new Date());     \r\n            cc.sys.localStorage.setItem('timestamp',timestamp);\r\n        }\r\n        this._timeRemainDuration = duration;\r\n        this.labelTime.string = String(duration);\r\n        this.timeNode.getComponent(\"time\").setTime(duration * 0.5);\r\n        this.schedule(this._timeMethod, 1, duration);\r\n    },\r\n\r\n    timeStop: function () {\r\n        this.unschedule(this._timeMethod);\r\n        this.timeNode.active = false;\r\n    },\r\n\r\n    _timeMethod: function () {\r\n        this._timeRemainDuration = this._timeRemainDuration - 1;\r\n\r\n        var remain = Math.max(this._timeRemainDuration, 0);\r\n        this.labelTime.string = (remain < 10 && remain > 0) ? ('0' + remain) : remain;\r\n\r\n        if (this._timeRemainDuration <= 0) {\r\n            this.timeStop();\r\n            if(cc.chaoShiChuPai == true) this._timeOutAutoSelectCards();\r\n            cc.sys.localStorage.removeItem(\"timestamp\");\r\n            return;\r\n        }\r\n    },\r\n\r\n    // 超时后，自动选牌\r\n    _timeOutAutoSelectCards: function () {\r\n        /**\r\n         * 隐藏恭喜你\r\n         */\r\n        play.gongXiNiShow(false);\r\n        if (typeof(cc.teShuPaiCards) != \"undefined\" && cc.teShuPaiCards != null) {\r\n            this.onBtnGongXiNiComfirmClick();\r\n            return;\r\n        }\r\n\r\n        //let [touCardModels, zhongCardModes, weiCardModes] = this._cacleAutoSelectedCards();\r\n        let [touCardModels, zhongCardModes, weiCardModes] = this._findCardIndex.arr[0];\r\n\r\n\r\n        if (touCardModels == null || zhongCardModes == null || weiCardModes == null) {\r\n            touCardModels = this._allCardModes.slice(-3);\r\n            zhongCardModes = this._allCardModes.slice(5, 10);\r\n            weiCardModes = this._allCardModes.slice(0, 5);\r\n        }\r\n\r\n        // cc.log(touCardModels)\r\n        // cc.log(zhongCardModes)\r\n        // cc.log(weiCardModes)\r\n        // cc.log(this._allCardModes)\r\n        // cc.log(\"自动选牌 touCardModels zhongCardModes weiCardModes：\");\r\n        this._didSelectedCards(touCardModels, zhongCardModes, weiCardModes);\r\n    },\r\n\r\n    _cacleAutoSelectedCards: function() {\r\n        let cards = this._allCardModes.filter(function(i){\r\n            return i;\r\n        });\r\n        var resultCards = [];\r\n        for(var i = 1;i < 3; i++){\r\n            let cardss = KQCard.autoSelectCards(cards, 5);\r\n            cards = cards.kq_excludes(cardss);\r\n            resultCards.push(cardss);\r\n        }\r\n        resultCards.push(cards);\r\n        //let touScore = KQCard.scoreOfCards(resultCards[2]);\r\n        //let zhongScore = KQCard.scoreOfCards(resultCards[1]);\r\n        //let weiScore = KQCard.scoreOfCards(resultCards[0]);\r\n        // cc.log(resultCards)\r\n        // cc.log(this._allCardModes)\r\n        // cc.log(\"牌分数自动选牌：\", touScore, zhongScore, weiScore);\r\n        //let weiCardModes = KQCard.autoSelectCards(cards, 5);\r\n        //cards = cards.kq_excludes(weiCardModes);\r\n        //\r\n        //let zhongCardModes = KQCard.autoSelectCards(cards, 5);\r\n        //\r\n        //let touCardModes = cards.kq_excludes(zhongCardModes);\r\n        //if (touCardModes.length == 3 && zhongCardModes.length == 5 && weiCardModes.length == 5) {\r\n        //    return [touCardModes, zhongCardModes, weiCardModes];\r\n        //}\r\n        if (resultCards[2].length == 3 && resultCards[1].length == 5 && resultCards[0].length == 5) {\r\n            return [resultCards[2], resultCards[1], resultCards[0]];\r\n        }\r\n\r\n        return [];\r\n    },\r\n\r\n    _convertCardsToServerModel: function (cards) {\r\n        let result = {};\r\n        result.type = KQCard.cardsType(cards);\r\n        result.value = KQCard.scoreOfCards(cards);\r\n        cards = KQCard._typeCardsSortByNumberOfPoints1(cards);\r\n        result.cards = KQCard.convertToServerCards(cards);\r\n\r\n        return result;\r\n    },\r\n\r\n    /*#####*/\r\n    _convertCardsToServerModel2: function (cards) {\r\n        var convertToServerCards = [];\r\n\r\n        cc.teShuPaiCards.forEach(function(cardMode){\r\n            var arr = [];\r\n            cardMode = KQCard._typeCardsSortByNumberOfPoints(KQCard.cardsFromArray(cardMode));\r\n            cardMode.forEach(function(cca){\r\n                var point = cca.point == 14 ? 1:cca.point;\r\n                arr.push({number:point,suit:cca.color});\r\n            });\r\n            convertToServerCards.push(arr);\r\n        });\r\n        let result = {};\r\n        result.type = KQCard.cardsType(cards);\r\n        result.value = 0;\r\n        result.cards = convertToServerCards;\r\n\r\n        if (result.type >= KQCard.TYPE.SanTaoHua && cc.moshi != 1) {\r\n            // 特殊牌\r\n            result.isContainExtra = true;\r\n        }\r\n\r\n        return result;\r\n    },\r\n    /*#####*/\r\n    // 特殊牌里是否还含有特殊牌\r\n    // 包含的情况有：\r\n    // 三桃花 可能含有同花顺\r\n    // 三顺子 可能含有同花顺\r\n    // 六对半 可能含有铁支\r\n    _isContainExtraCardsType: function (type, cards) {\r\n        if (type == KQCard.TYPE.SanTaoHua) {\r\n            return KQCard.containTongHuaShun(cards);\r\n        } else if (type == KQCard.TYPE.SanShunZi) {\r\n            return KQCard.containTongHuaShun(cards);\r\n        } else if (type == KQCard.TYPE.LiuDuiBan) {\r\n            return KQCard.containTieZhi(cards);\r\n        }\r\n        return false;\r\n    },\r\n\r\n    // 触摸事件\r\n    _registerTouchEvents: function () {\r\n        //this.cardsLayout.node.on(cc.Node.EventType.TOUCH_START, this._touchCardLayout.bind(this));\r\n        //this.cardsLayout.node.on(cc.Node.EventType.TOUCH_MOVE, this._touchCardLayout.bind(this));\r\n        //this.cardsLayout.node.on(cc.Node.EventType.TOUCH_END, this._touchCardLayoutEnd.bind(this));\r\n        //this.cardsLayout.node.on(cc.Node.EventType.TOUCH_CANCEL, this._touchCardLayoutEnd.bind(this));\r\n    },\r\n    cacleAutoSelectedCardsIndex: function(cards) {\r\n        //cc.log('------622')\r\n        let testFind = KQCard.testFind(cards) || [];\r\n        //cc.log('------6221')\r\n        var result = []\r\n        for(var i = 0;i < testFind.length; i++){\r\n            var s = testFind[i];\r\n            if(s.length >= 1){\r\n                for(var j = 0;j < s.length; j++){\r\n                    //result.push(s[0]);//只取一个\r\n                    result.push(s[j]);//\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    cacleAutoSelectedCardsArray: function(cards) {\r\n        var indexs = this.cacleAutoSelectedCardsIndex(cards);\r\n        if(indexs.length < 1){\r\n            return false;\r\n        }\r\n        let selectedCard = [];\r\n        for(var i = 0;i < indexs.length; i++){\r\n            let s = indexs[i];\r\n            let a = s.map(function(index){\r\n                return cards[index];\r\n            });\r\n            selectedCard.push(a);\r\n        }\r\n        return selectedCard;\r\n    },\r\n\r\n    cacleAutoSelectedCards2: function() {\r\n        let cards = this._allCardModes.slice();\r\n        var cardsArray = this.cacleAutoSelectedCardsArray(cards);\r\n        var resultArray = [];\r\n        for(var i = 0;i < cardsArray.length;i++){\r\n            let s = cardsArray[i] || [];\r\n            let qwer = [];\r\n            for(var j = 1;j < cardsArray.length;j++){\r\n                let d = cardsArray[j] || [];\r\n                let sC = s.kq_excludes(d);\r\n                if(sC.length == s.length && s.length > 0){//判断牌相同 即没有重复的\r\n                    qwer = [s,d];\r\n                }\r\n            }\r\n            if(qwer.length > 1){\r\n                resultArray.push(qwer);\r\n            }\r\n        }\r\n\r\n        //补全计划1\r\n        for(var i = 0;i < resultArray.length;i++){\r\n\r\n            let s = resultArray[i];\r\n\r\n            let cardss = this._allCardModes.slice();\r\n\r\n            cardss = cardss.kq_excludes(s[0]);\r\n\r\n            cardss = cardss.kq_excludes(s[1]);\r\n\r\n            if(cardss.length >= 5){\r\n                s[2] = KQCard.autoSelectCards(cardss, 5);\r\n            }else{\r\n                s[2] = KQCard.autoSelectCards(cardss, 3);\r\n            }\r\n\r\n            resultArray[i].sort(function (a1,a2) {\r\n                return KQCard.scoreOfCards(a1)-KQCard.scoreOfCards(a2);\r\n            });\r\n        }\r\n        //补全计划2\r\n        for(var i = 0;i < resultArray.length;i++){\r\n            var s = resultArray[i];\r\n            var cardsqe = this._allCardModes.filter(function(ii){//重新赋值cards\r\n                return ii;\r\n            });\r\n            //去重\r\n            var q = s[0].concat(s[1]).concat(s[2]);\r\n            var cardsq = cardsqe.kq_excludes(q);\r\n            s[0] = s[0].kq_excludes(s[1]);\r\n            s[0] = s[0].kq_excludes(s[2]);\r\n            s[1] = s[1].kq_excludes(s[0]);\r\n            s[1] = s[1].kq_excludes(s[2]);\r\n            s[2] = s[2].kq_excludes(s[1]);\r\n            s[2] = s[2].kq_excludes(s[0]);\r\n            //多余删除\r\n            if (s[2].length > 5) {//尾道\r\n                let a = s[2].splice(5, s[2].length-5);\r\n                for(var y in a){\r\n                    cardsq.push(a[y]);\r\n                }\r\n            }\r\n            if (s[1].length > 5) {//中道\r\n                let a = s[1].splice(5, s[1].length-5);\r\n                for(var y in a){\r\n                    cardsq.push(a[y]);\r\n                }\r\n            }\r\n            if (s[0].length > 3) {//头道\r\n                let a = s[0].splice(3, s[0].length-3);\r\n                for(var y in a){\r\n                    cardsq.push(a[y]);\r\n                }\r\n            }\r\n            //cardsq = KQCard._convertOneToA(cardsq);\r\n            cardsq.sort(KQCard.sortByPoint);\r\n            cardsq.forEach(function(card11){\r\n                if(card11.point == 14){\r\n                    card11.point = 1;\r\n                }\r\n            });\r\n            //有缺添加\r\n            while(s[2].length < 5) {//尾道\r\n                s[2].push(cardsq.pop() || []);\r\n            }\r\n            while(s[1].length < 5) {//中道\r\n                s[1].push(cardsq.pop() || []);\r\n            }\r\n            while(s[0].length < 3) {//头道\r\n                s[0].push(cardsq.pop() || []);\r\n            }\r\n            /*if(cardsq.length > 0){\r\n                while(s[2].length < 5) {//尾道\r\n                    s[2].push(cardsq.pop());\r\n                }\r\n            }\r\n            if(cardsq.length > 0){\r\n                while(s[1].length < 5) {//中道\r\n                    s[1].push(cardsq.pop());\r\n                }\r\n            }\r\n            if(cardsq.length > 0){\r\n                while(s[0].length < 3) {//头道\r\n                    s[0].push(cardsq.pop());\r\n                }\r\n            }*/\r\n            if(s[2][4] == null || s[1][4] == null || s[0][2] == null\r\n                || s[2][4] == '' || s[1][4] == '' || s[0][2] == ''){\r\n                resultArray.splice(i,1);\r\n            }\r\n        }\r\n\r\n        var resultCards = [];\r\n        let cardss1 = this._allCardModes.filter(function(i){return i;});\r\n        var indexasdf = 2;\r\n        for(var i = 0;i < 3; i++){\r\n            let length = indexasdf == 0? 3: 5;\r\n            let cardss = KQCard.autoSelectCards(cardss1, length) || [];\r\n            cardss1 = cardss1.kq_excludes(cardss);\r\n            resultCards[indexasdf] = cardss;\r\n            indexasdf--;\r\n        }\r\n\r\n        for(var i = 0;i < resultCards.length; i++){\r\n            let length = i == 0? 3: 5;\r\n            if (resultCards[i].length < length) {\r\n                cardss1 = cardss1.kq_excludes(resultCards[i]);\r\n                while(resultCards[i].length < length) {\r\n                    resultCards[i].push(cardss1.pop());\r\n                }\r\n            }\r\n        }\r\n\r\n        resultArray.push(resultCards);\r\n\r\n        var cardsTypeNames = [];\r\n        var resultArrays = [];\r\n\r\n        for(var i = 0;i < resultArray.length;i++){//删除类型相同的组合\r\n            let s = resultArray[i];\r\n            let typeName0 = KQCard.cardsTypeName(s[0]);\r\n            typeName0 += KQCard.cardsTypeName(s[1]);\r\n            typeName0 += KQCard.cardsTypeName(s[2]);\r\n            if(cardsTypeNames.indexOf(typeName0) == -1){\r\n                let touScore = KQCard.scoreOfCards(s[0]);\r\n                let zhongScore = KQCard.scoreOfCards(s[1]);\r\n                let weiScore = KQCard.scoreOfCards(s[2]);\r\n                if(zhongScore > touScore && zhongScore < weiScore){\r\n                    cardsTypeNames.push(typeName0);\r\n                    resultArrays.push(s);\r\n                }\r\n            }\r\n        }\r\n\r\n        resultArrays.sort(function (a1,a2) {\r\n            var b0 = parseInt(KQCard.cardsType(a2[0]) ) + \"\";\r\n            var b1 = parseInt(KQCard.cardsType(a2[1]) ) + \"\";\r\n            var b2 = parseInt(KQCard.cardsType(a2[2]) ) + \"\";\r\n\r\n            var s0 = parseInt(KQCard.cardsType(a1[0]) ) + \"\";\r\n            var s1 = parseInt(KQCard.cardsType(a1[1]) ) + \"\";\r\n            var s2 = parseInt(KQCard.cardsType(a1[2]) ) + \"\";\r\n\r\n            var s = parseInt(s2 + s1 + s0);\r\n            var b = parseInt(b2 + b1 + b0);\r\n\r\n            return b - s;\r\n        });\r\n\r\n        if(resultArrays.length > 7){\r\n            resultArrays = resultArrays.slice(0,7);\r\n        }\r\n        //for(var i = 0;i < resultArrays.length;i++){//如果有相公牌则删除\r\n        //    let s = resultArrays[i];\r\n        //    let touScore = KQCard.scoreOfCards(s[0]);\r\n        //    let zhongScore = KQCard.scoreOfCards(s[1]);\r\n        //    let weiScore = KQCard.scoreOfCards(s[2]);\r\n        //    cc.log(touScore,zhongScore,weiScore);\r\n        //    if(weiScore < touScore || weiScore < zhongScore){\r\n        //        resultArrays.splice(i,1);\r\n        //    }\r\n        //}\r\n        //cc.log(resultArrays)\r\n        //cc.log('-------897')\r\n\r\n        //if(cc.teShuPaiCards){\r\n        //    var TeShuCards = cc.teShuPaiCards.map(function(ca){\r\n        //       return KQCard._typeCardsSortByNumberOfPoints(KQCard.cardsFromArray(ca));\r\n        //    });\r\n        //    resultArrays.unshift(TeShuCards);\r\n        //\r\n        //}\r\n\r\n        if(resultArrays.length <= 0){\r\n\r\n            this._allCardModes.forEach(function(i){if(i.scores == 1) i.scores = 14;});\r\n\r\n            var card20 = KQCard.contain20(this._allCardModes);\r\n\r\n            this._allCardModes = this._allCardModes.kq_excludes(card20);\r\n\r\n            this._allCardModes = KQCard._typeCardsSortByNumberOfPoints(this._allCardModes);\r\n\r\n            this._allCardModes = card20.concat(this._allCardModes);\r\n\r\n            var asdf1 = this._allCardModes.slice(0,5);\r\n\r\n            var asdf2 = this._allCardModes.slice(5,10);\r\n\r\n            var asdf3 = this._allCardModes.slice(10,13);\r\n\r\n            resultArrays.push([asdf3,asdf2,asdf1])\r\n        }\r\n\r\n        this.autoCardLayout.node.removeAllChildren();\r\n        this.autoCardScrollView.scrollToLeft();\r\n        for(var i = 0;i < resultArrays.length;i++){//添加预制体\r\n            let s = resultArrays[i];\r\n            let autoCard = cc.instantiate(this.autoCard);\r\n            autoCard.y = 0;\r\n            s[0].forEach(function(i){if (i.point == 14) i.point = 1;})\r\n            s[1].forEach(function(i){if (i.point == 14) i.point = 1;})\r\n            s[2].forEach(function(i){if (i.point == 14) i.point = 1;})\r\n            var cardsNode = [autoCard.children[1],autoCard.children[3],autoCard.children[2]];\r\n\r\n            this._setCardDaoSprite(cardsNode,s);\r\n\r\n            autoCard.cardArray = s;\r\n            var eventHandler = new cc.Component.EventHandler();\r\n            eventHandler.target = this.node;\r\n            eventHandler.component = \"CardTypeCombine\";\r\n            eventHandler.handler = \"clickAutoSelectedCards\";\r\n            eventHandler.customEventData = i;\r\n            autoCard.getComponent(cc.Button).clickEvents.push(eventHandler);\r\n            this.autoCardLayout.node.addChild(autoCard);\r\n        }\r\n        this._findCardIndex.arr = resultArrays;\r\n\r\n        this.autoSelectedCardsOne();\r\n    },\r\n\r\n    //daoCancelAll: function () {\r\n    //    var nodes = [this.layoutTouDao.node,this.layoutZhongDao.node,this.layoutWeiDao.node];\r\n    //    for(var i = 0;i < nodes.length;i++){\r\n    //        nodes[i].removeAllChildren();\r\n    //    }\r\n    //},\r\n\r\n    autoSelectedCardsOne: function() {\r\n        this.cardsLayout.node.removeAllChildren();\r\n\r\n        var indexs = 0;\r\n\r\n        for(var i = 0; i < this.autoCardLayout.node.children.length;i++){\r\n\r\n            var nodes = this.autoCardLayout.node.children[i];\r\n\r\n            nodes.children[0].active = false;\r\n\r\n        }\r\n\r\n        this.autoCardLayout.node.children[indexs].children[0].active = true;\r\n\r\n        let resultArray = this._findCardIndex.arr[indexs];\r\n\r\n        this._findCardIndex.indexs = indexs;\r\n\r\n\r\n        for(var i = 0;i < resultArray.length;i++){\r\n\r\n            var cardModes = resultArray[i];\r\n\r\n            cardModes.sort(KQCard.sort);\r\n\r\n            var num = 0;\r\n            if(i == 1){\r\n                num = 3;\r\n            }\r\n            else if(i == 2){\r\n                num = 8;\r\n            }\r\n            //cardModes.forEach(function(i){if (i.point == 14) i.point = 1;})\r\n            cardModes.forEach(function (cardMode,index) {\r\n\r\n                var cardName = cardMode.cardName();\r\n\r\n                var numBer = num+index;\r\n\r\n                var nodds1 = new cc.Node(); //创建一个节点对象\r\n\r\n                nodds1.anchorY = 1;\r\n\r\n                nodds1.addComponent(cc.Sprite); //添加精灵组件\r\n\r\n                this.cardAllNode.children[numBer].addChild(nodds1);\r\n\r\n                this.cardAllNode.children[numBer].children[0].cardName = cardName;\r\n\r\n                this.cardAllNode.children[numBer].children[0]._cardModel = new KQCard(cardName,null,index);\r\n\r\n                var btnSprites =  this.cardAllNode.children[numBer].children[0].getComponent(cc.Sprite);\r\n\r\n                this.cardAllNode.children[numBer].getComponent(cc.Sprite).spriteFrame = '';\r\n\r\n                btnSprites.node.removeAllChildren();\r\n\r\n                if(cc.maPai == cardName){\r\n\r\n                    var nodds = new cc.Node(); //创建一个节点对象\r\n\r\n                    nodds.addComponent(cc.Sprite); //添加精灵组件\r\n\r\n                    cc.loader.loadRes('play/desk/img_red5_1', cc.SpriteFrame, function (err, spriteFrame) {\r\n\r\n                        if (err) {cc.error(err.message || err);return;}\r\n\r\n                        var btnSprite1 = nodds.getComponent(cc.Sprite);\r\n\r\n                        btnSprite1.spriteFrame = spriteFrame;\r\n\r\n                        btnSprite1.node.width = 107;\r\n\r\n                        btnSprite1.node.height = 155;\r\n\r\n                        btnSprite1.node.y = -65.5;\r\n\r\n                    }.bind(this));\r\n\r\n                    btnSprites.node.addChild(nodds);\r\n\r\n                }\r\n\r\n                var path = 'public-pic-card-poker-'+ cardName;\r\n\r\n                this._loadCardFrame(this.cardSpriteAtlas, path ,btnSprites, 95, 130);\r\n\r\n            }.bind(this));\r\n        }\r\n\r\n        this.clickAutoSelectedCards(null);\r\n\r\n        //this._setCardDaoSprite();\r\n\r\n    },\r\n\r\n    clickAutoSelectedCards: function(event,indexs = 0) {\r\n\r\n        for(var i = 0; i < this.autoCardLayout.node.children.length;i++){\r\n\r\n            var nodes = this.autoCardLayout.node.children[i];\r\n\r\n            nodes.children[0].active = false;\r\n\r\n        }\r\n\r\n        this.autoCardLayout.node.children[indexs].children[0].active = true;\r\n\r\n        AudioManager.instance.playPokerClick();\r\n\r\n        if(event){\r\n            var resultArray = event.target.cardArray;\r\n        }\r\n        else{\r\n            var resultArray = this._findCardIndex.arr[indexs];\r\n        }\r\n        let touScore = KQCard.scoreOfCards(resultArray[0]);\r\n        let zhongScore = KQCard.scoreOfCards(resultArray[1]);\r\n        let weiScore = KQCard.scoreOfCards(resultArray[2]);\r\n        //cc.log(touScore);\r\n        //cc.log(zhongScore);\r\n        //cc.log(weiScore);\r\n        //console.log('----------1180')\r\n        resultArray = resultArray.map(function (cardMode){\r\n\r\n            cardMode = KQCard._typeCardsSortByNumberOfPoints(cardMode);\r\n\r\n            return cardMode.map(function (cardModes){\r\n\r\n                return cardModes.cardName();\r\n\r\n            }.bind(this));\r\n\r\n        }.bind(this));\r\n        //console.log(resultArray)\r\n\r\n        this.LayoutWithEvent.forEach(function(nodes){\r\n\r\n            nodes.color = new cc.Color(255, 255, 255);\r\n\r\n            nodes.children.forEach(function(i){i.color = new cc.Color(255, 255, 255);});\r\n        });\r\n\r\n        this.LayoutWithEvent = [];\r\n\r\n        resultArray = resultArray[0].concat(resultArray[1]).concat(resultArray[2]);\r\n\r\n        var cardAllNode = this.cardAllNode.children.map(function(i){return i;});\r\n\r\n        for(var i = 0;i < resultArray.length;i++){\r\n\r\n            var s = resultArray[i];\r\n\r\n            for(var j = 0;j < cardAllNode.length;j++){\r\n\r\n                var d = cardAllNode[j];\r\n\r\n                d.getComponent(cc.Button).interactable = false;\r\n\r\n                if(d.children[0].cardName == s){\r\n\r\n                    d.stopAllActions();\r\n\r\n                    var detail = this.changeNodeSpaceAR[i];\r\n\r\n                    var call = cc.callFunc(function () {\r\n\r\n                        this.cardAllNode.children.forEach(function(nodes){\r\n                            nodes.getComponent(cc.Button).interactable = true;\r\n                        });\r\n\r\n                        this._setCardDaoSprite();\r\n\r\n                    }.bind(this), this);\r\n\r\n                    d.runAction(cc.sequence(cc.moveTo(this.cardTime,detail), call));\r\n\r\n                    cardAllNode.splice(j,1)\r\n\r\n                    break;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    _loadCardFrame: function(SpriteFrame, path, SpritesNode, w, h) {\r\n\r\n        var Sprite = SpriteFrame.getSpriteFrame( path );\r\n\r\n        SpritesNode.spriteFrame = Sprite;\r\n\r\n        if(w) SpritesNode.node.width = w;\r\n\r\n        if(h) SpritesNode.node.height = h;\r\n    },\r\n\r\n    stickOutFindCardType1: function (cards,index = 0) {\r\n        //// 将已有的突出的牌的位置重置回初始位置\r\n        //this._resetCardsPositionY();\r\n        //let selectedCardNames = cards.map(function(cardModel){\r\n        //    return cardModel.cardName();\r\n        //}.bind(this));\r\n        //\r\n        //let cardNodes = this.cardsLayout.node.children.filter(function (cardNode) {\r\n        //    let cardPrefab = cardNode.getComponent('CardPrefab');\r\n        //    if(selectedCardNames.includes(cardPrefab.cardName())) {\r\n        //        var nameIndex = selectedCardNames.indexOf(cardPrefab.cardName());\r\n        //        selectedCardNames.splice(nameIndex,1);\r\n        //        return true;\r\n        //    }\r\n        //    return false;\r\n        //});\r\n        //\r\n        //cc.log('-------696')\r\n        //this._changeCardPrefabsY(cardNodes);\r\n        //if(index == 1){\r\n        //    this._addDaoCardToLayout(this.layoutTouDao.node, 3);\r\n        //}\r\n        //else if(index == 2){\r\n        //    this._addDaoCardToLayout(this.layoutZhongDao.node);\r\n        //}\r\n        //else if(index == 3){\r\n        //    this._addDaoCardToLayout(this.layoutWeiDao.node);\r\n        //}\r\n\r\n    },\r\n\r\n    _touchCardLayout: function (event) {\r\n        //event.bubbles = true;\r\n        //let location = event.getLocation();\r\n        //let cardPrefab = this._cardPrefabInCardLayoutWithLocation(location);\r\n        //if (cardPrefab) {\r\n        //    cardPrefab.getComponent('CardPrefab').setSelected(true);\r\n        //    event.stopPropagation();\r\n        //}\r\n    },\r\n\r\n    _touchCardLayoutEnd: function (event) {\r\n        //this._changeSelectedCardPrefabsY();\r\n        //this._diseclectCardPrefabs();\r\n    },\r\n\r\n    _cardPrefabInCardLayoutWithLocation: function (location) {\r\n        //location = this.cardsLayout.node.convertToNodeSpaceAR(location);\r\n        //let cardNodes = this.cardsLayout.node.children.sort(function (cardNode1, cardNode2) {\r\n        //    let rect1 = cardNode1.getBoundingBox();\r\n        //    let rect2 = cardNode2.getBoundingBox();\r\n        //    return rect2.x - rect1.x;\r\n        //});\r\n        //for (let index in cardNodes) {\r\n        //    let cardNode = cardNodes[index];\r\n        //\r\n        //    let rect = cardNode.getBoundingBox();\r\n        //\r\n        //    if (cc.rectContainsPoint(rect, location)) {\r\n        //        return cardNode;\r\n        //    }\r\n        //}\r\n        //\r\n        //return null;\r\n    },\r\n\r\n    _changeSelectedCardPrefabsY: function () {\r\n        //let cardNodes = this._selectedCardPrefabs();\r\n        //this._changeCardPrefabsY(cardNodes);\r\n        //\r\n        //AudioManager.instance.playPokerClick();\r\n    },\r\n\r\n    _changeCardPrefabsY: function (cardNodes) {\r\n        //cardNodes.forEach(function (cardNode) {\r\n        //    let y = cardNode.getPositionY();\r\n        //    if (y == this._cardOffsetY) {\r\n        //        cardNode.setPositionY(this._cardOffsetY + 55);\r\n        //    } else {\r\n        //        cardNode.setPositionY(this._cardOffsetY);\r\n        //    }\r\n        //}.bind(this));\r\n    },\r\n\r\n    _selectedCardPrefabs: function (includeStickOut = false) {\r\n        //let cardNodes = this.cardsLayout.node.children || [];\r\n        //return cardNodes.filter(function (cardNode) {\r\n        //    let cardPrefab = cardNode.getComponent('CardPrefab');\r\n        //    let isSelected = cardPrefab.isSelected();\r\n        //    if (!isSelected && includeStickOut) {\r\n        //        isSelected = cardNode.getPositionY() > 10;\r\n        //    }\r\n        //\r\n        //    return isSelected;\r\n        //});\r\n    },\r\n\r\n    _diseclectCardPrefabs: function () {\r\n        //let cardNodes = this.cardsLayout.node.children;\r\n        //cardNodes.forEach(function (node) {\r\n        //    node.getComponent('CardPrefab').setSelected(false);\r\n        //});\r\n    },\r\n\r\n    // 重置 cards 的 X\r\n    _resetCardsPositionX: function () {\r\n        //let interval = 98;\r\n        //let interval = 78;\r\n        //let cardNodes = this.cardsLayout.node.children || [];\r\n        //let length = cardNodes.length;\r\n        //if (length == 0) {\r\n        //    return;\r\n        //}\r\n        //\r\n        //let middleIndex = length / 2;\r\n        //let cardWidth = 154;\r\n        //\r\n        //\r\n        ////this.cardsLayoutSort();\r\n        //if(this.cardsLayoutSortColor == true){\r\n        //    this.cardsLayout.node.children.sort(function (n1, n2) {\r\n        //        let component1 = n1.getComponent('CardPrefab');\r\n        //        let component2 = n2.getComponent('CardPrefab');\r\n        //        return component2.cardMode().color - component1.cardMode().color;\r\n        //    });\r\n        //}else{\r\n        //    this.cardsLayout.node.children.sort(function (n1, n2) {\r\n        //        let component1 = n1.getComponent('CardPrefab');\r\n        //        let component2 = n2.getComponent('CardPrefab');\r\n        //        return component1.cardMode().sort(component2.cardMode());\r\n        //    });\r\n        //}\r\n        ////cardNodes.sort(function (n1, n2) {\r\n        ////    let component1 = n1.getComponent('CardPrefab');\r\n        ////    let component2 = n2.getComponent('CardPrefab');\r\n        ////\r\n        ////    return component1.cardMode().sort(component2.cardMode());\r\n        ////});\r\n        //\r\n        //cardNodes.forEach(function (cardNode, index) {\r\n        //    cardNode.zIndex = index;\r\n        //    let x = (index - middleIndex) * interval + cardWidth / 3;\r\n        //    cardNode.setPositionX(x);\r\n        //});\r\n    },\r\n\r\n    // 重置 cards 的 X为0\r\n    resetCardsPositionX1: function () {\r\n        //let cardNodes = this.cardsLayout.node.children || [];\r\n        //let length = cardNodes.length;\r\n        //if (length == 0) {\r\n        //    return;\r\n        //}\r\n        //cardNodes.forEach(function (cardNode) {\r\n        //    cardNode.setPositionY(0);\r\n        //});\r\n    },\r\n\r\n    _resetCardsPositionY: function () {\r\n        //let cardNodes = this.cardsLayout.node.children || [];\r\n        //cardNodes.forEach(function (cardNode) {\r\n        //    cardNode.setPositionY(this._cardOffsetY);\r\n        //}.bind(this));\r\n    },\r\n\r\n    // 头、中、尾道 layout 的点击事件\r\n    _registerDaosLayoutClickEvent: function () {\r\n\r\n        this.changeNodeSpaceAR = [];//记录所有牌的坐标\r\n        this.cardAllNode.children.forEach(function(nodes){\r\n            //获取节点的世界坐标\r\n            var cardBackWorldSpace1 = nodes.convertToWorldSpaceAR(cc.v2(0, 0));\r\n            //获取相对父节点所在的坐标\r\n            var detail = nodes.parent.convertToNodeSpaceAR(cardBackWorldSpace1);\r\n\r\n            this.changeNodeSpaceAR.push(detail);\r\n\r\n        }.bind(this));\r\n    },\r\n\r\n    clickAllCard: function (event) {\r\n        AudioManager.instance.playPokerClick();\r\n        if(this.LayoutWithEvent.length <= 1){\r\n            this.LayoutWithEvent.push(event.target);\r\n            event.target.color = new cc.Color(182, 182, 182);\r\n            event.target.children.forEach(function(i){i.color = new cc.Color(182, 182, 182);});\r\n        }\r\n        if(this.LayoutWithEvent.length == 2){\r\n\r\n            var arr = [];\r\n\r\n            this.LayoutWithEvent.forEach(function(nodes){\r\n                //获取节点的世界坐标\r\n                var cardBackWorldSpace1 = nodes.convertToWorldSpaceAR(cc.v2(0, 0));\r\n                //获取相对父节点所在的坐标\r\n                var detail = nodes.parent.convertToNodeSpaceAR(cardBackWorldSpace1);\r\n\r\n                arr.unshift(detail);\r\n\r\n            }.bind(this));\r\n\r\n            this.LayoutWithEvent.forEach(function(nodes,index){\r\n\r\n                nodes.color = new cc.Color(255, 255, 255);\r\n\r\n                nodes.children.forEach(function(i){i.color = new cc.Color(255, 255, 255);});\r\n\r\n                nodes.getComponent(cc.Button).interactable = false;\r\n\r\n                this.scheduleOnce(function () {\r\n\r\n                    nodes.getComponent(cc.Button).interactable = true;\r\n\r\n                    this._setCardDaoSprite();\r\n\r\n                }.bind(this), this.cardTime);\r\n\r\n                nodes.stopAllActions();\r\n\r\n                var detail = arr[index];\r\n\r\n                nodes.runAction(cc.moveTo(this.cardTime,detail));\r\n\r\n            }.bind(this));\r\n\r\n            this.LayoutWithEvent = [];\r\n\r\n        }\r\n\r\n    },\r\n\r\n    _setCardDaoSprite: function (nodes = null ,cards = null) {\r\n\r\n        if(!nodes){\r\n\r\n            this.cardAlls =  this.cardAllNode.children.sort(function(a,b){return b.y - a.y;}).map(function(i){return i.children[0];});\r\n\r\n            cards = [this._taoDaoCardModes(),this._zhongDaoCardModes(),this._weiDaoCardModes()];\r\n\r\n            cards.forEach(function(card){card.forEach(function(i){if (i.scores == 14){i.scores = 1;}});});\r\n\r\n            nodes = [this.touDaoNode,this.zhongDaoNode,this.weiDaoNode];\r\n\r\n        }\r\n\r\n        //头道\r\n        let typeName0 = KQCard.cardsType(cards[0])+1;\r\n\r\n        typeName0 = typeName0>=10 ? typeName0 :\"0\"+typeName0;\r\n\r\n        typeName0 = typeName0=='04' ? '11' :typeName0;\r\n\r\n        var path = 'game_poker_type'+ typeName0;\r\n\r\n        this._loadCardFrame(this.daoSpriteAtlas, path ,nodes[0].getComponent(cc.Sprite));\r\n\r\n        //中道\r\n        let typeName1 = KQCard.cardsType(cards[1])+1;\r\n\r\n        typeName1 = typeName1>=10 ? typeName1 :\"0\"+typeName1;\r\n\r\n        typeName1 = typeName1=='07' ? '22' :typeName1;\r\n\r\n        path = 'game_poker_type'+ typeName1;\r\n\r\n        this._loadCardFrame(this.daoSpriteAtlas, path ,nodes[1].getComponent(cc.Sprite));\r\n\r\n        //尾道\r\n        let typeName2 = KQCard.cardsType(cards[2])+1;\r\n\r\n        typeName2 = typeName2>=10 ? typeName2 :\"0\"+typeName2;\r\n\r\n        path = 'game_poker_type'+ typeName2;\r\n\r\n        this._loadCardFrame(this.daoSpriteAtlas, path ,nodes[2].getComponent(cc.Sprite));\r\n\r\n        this.cardAllNode.children.forEach(function(n){n.getComponent(cc.Sprite).spriteFrame = \"\";});\r\n\r\n        if(cards){\r\n\r\n            if(typeName0) KQCard._setGuiCard(0, 0, 3, typeName0, cards, this.cardAllNode.children, this.cardSpriteAtlas);\r\n\r\n            if(typeName1) KQCard._setGuiCard(1, 3, 8, typeName1, cards, this.cardAllNode.children, this.cardSpriteAtlas);\r\n\r\n            if(typeName2) KQCard._setGuiCard(2, 8, 13, typeName2, cards, this.cardAllNode.children, this.cardSpriteAtlas);\r\n\r\n        }\r\n    },\r\n\r\n    _clickTouDaoLayout: function (event) {\r\n        this._daoCardNodeInLayoutWithEvent(this.layoutTouDao.node, event);\r\n    },\r\n\r\n    _clickZhongDaoLayout: function (event) {\r\n        this._daoCardNodeInLayoutWithEvent(this.layoutZhongDao.node, event);\r\n    },\r\n\r\n    _clickWeiDaoLayout: function (event) {\r\n        this._daoCardNodeInLayoutWithEvent(this.layoutWeiDao.node, event);\r\n    },\r\n\r\n    _daoCardNodeInLayoutWithEvent: function (node, event) {\r\n        let cardNodes = node.children || [];\r\n        var location = event.getLocation();\r\n        location = node.convertToNodeSpaceAR(location);\r\n        //var cardBackWorldSpace = this.layoutZhongDao.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        ////获取节点的世界坐标\r\n        //var detail = this.layoutZhongDao.node.parent.convertToNodeSpaceAR(cardBackWorldSpace);\r\n        ////获取相对父节点所在的坐标\r\n        //this.layoutWeiDao.node.runAction(cc.moveTo(1,detail));\r\n        for (let index in cardNodes) {\r\n            let cardNode = cardNodes[index];\r\n            let rect = cardNode.getBoundingBox();\r\n            if (cc.rectContainsPoint(rect, location)) {\r\n                AudioManager.instance.playPokerClick();\r\n                let arrs = [node ,cardNode];\r\n                if(this.LayoutWithEvent.length == 1){\r\n                    if(this.LayoutWithEvent[0][0].name != node.name){\r\n                        cardNode.opacity = 200;\r\n                        this.LayoutWithEvent.push(arrs);\r\n                    }else{\r\n                        this.LayoutWithEvent[0][1].opacity = 255;\r\n                        this.LayoutWithEvent = [];\r\n                    }\r\n                }\r\n                else if(this.LayoutWithEvent.length == 0){\r\n                    //cc.log(cardNode)\r\n                    this.LayoutWithEvent.push(arrs);\r\n                    cardNode.opacity = 200;\r\n                }\r\n                if(this.LayoutWithEvent.length == 2){\r\n                    var node1 = this.LayoutWithEvent[0][1];\r\n                    var node2 = this.LayoutWithEvent[1][1];\r\n                    //获取节点的世界坐标\r\n                    var cardBackWorldSpace = node1.convertToWorldSpaceAR(cc.v2(0, 0));\r\n                    //获取相对父节点所在的坐标\r\n                    var detail = node1.parent.convertToNodeSpaceAR(cardBackWorldSpace);\r\n                    node2.runAction(cc.moveTo(1,detail));\r\n\r\n                }\r\n\r\n                return ;\r\n            }\r\n        }\r\n\r\n        //return null;\r\n    },\r\n\r\n    _addDaoCardToLayout: function (node, maxNumberCard = 5) {\r\n        //let cardNodes = node.children || [];\r\n        //if (cardNodes.length >= 5) {\r\n        //    return;\r\n        //}\r\n        //let remainCount = maxNumberCard - cardNodes.length;\r\n        //\r\n        //var selectedCards = this._selectedCardPrefabs(true) || [];\r\n        //\r\n        //if (selectedCards.length == 0) {\r\n        //    return;\r\n        //}\r\n        //if (selectedCards.length > remainCount) {\r\n        //    selectedCards = selectedCards.slice(0, remainCount);\r\n        //}\r\n        //\r\n        //let selectedCardNames = selectedCards.map(function (cardPrefab) {\r\n        //    return cardPrefab.getComponent('CardPrefab').cardName();\r\n        //});\r\n        //\r\n        //cardNodes.forEach(function (cardTypeNode) {\r\n        //    selectedCardNames.push(cardTypeNode.getComponent('CardTypeSprite').cardName());\r\n        //});\r\n        //\r\n        //let cardModes = selectedCardNames.map(function (cardName,index) {\r\n        //    return new KQCard(cardName,null,index);\r\n        //}).sort(function (c1, c2) {\r\n        //    return KQCard.sort(c1, c2, false);\r\n        //});\r\n\r\n        //let touCardModes = (node == this.layoutTouDao.node) ? cardModes : this._taoDaoCardModes();\r\n        //let zhongCardModes = (node == this.layoutZhongDao.node) ? cardModes : this._zhongDaoCardModes();\r\n        //let weiCardModes = (node == this.layoutWeiDao.node) ? cardModes : this._weiDaoCardModes();\r\n        //if (!this._isValidCardModes(touCardModes, zhongCardModes, weiCardModes)) {\r\n        //    this.cacleAutoSelectedCards1();\r\n        //    cc.log('相公牌：自动选择牌')\r\n        //    return;\r\n        //}\r\n        //\r\n        //node.removeAllChildren();\r\n        //\r\n        //cardModes.forEach(function (cardMode,index) {\r\n        //    let cardName = cardMode.cardName();\r\n        //    let cardTypeSprite = cc.instantiate(this.cardTypePrefab);\r\n        //    cardTypeSprite.names = cardName+'+'+index;\r\n        //    cardTypeSprite.getComponent('CardTypeSprite').setCard(cardName,index);\r\n        //    node.addChild(cardTypeSprite);\r\n        //}.bind(this));\r\n        //\r\n        //\r\n        //selectedCards.forEach(function (node) {\r\n        //    node.removeFromParent();\r\n        //});\r\n        //this._resetCardsPositionY();\r\n        //this._resetCardsPositionX();\r\n        //\r\n        //this._autoActiveDeleteDaoButtons();\r\n        //\r\n        //this._reloadKQCardModesInner();\r\n        //this._resetTypeButtonEnablesWithModels();\r\n    },\r\n\r\n    // 删除 头、中或尾道中的某中牌\r\n    _deleteDaoCard: function (cardTypeNode, reloadTypeButtonEnables = false) {\r\n        //let cardName = cardTypeNode.getComponent('CardTypeSprite').cardName();\r\n        //this.addCard(cardName, true);\r\n        //\r\n        //this._resetCardsPositionY();\r\n        //\r\n        //cardTypeNode.removeFromParent(true);\r\n        //this._autoActiveDeleteDaoButtons();\r\n        //\r\n        //if (reloadTypeButtonEnables) {\r\n        //    this._reloadKQCardModesInner();\r\n        //    this._resetTypeButtonEnablesWithModels();\r\n        //}\r\n    },\r\n\r\n    // 删除 头道或中道或尾道上所有的 牌\r\n    _deleteDaoCardsOfLayout: function (daoLayout) {\r\n        //let cardNodes = Array.from(daoLayout.children);\r\n        //cardNodes.forEach(this._deleteDaoCard.bind(this));\r\n        //\r\n        //this._reloadKQCardModesInner();\r\n        //this._resetTypeButtonEnablesWithModels();\r\n    },\r\n\r\n    // 判断能否使用选择中的牌\r\n    // 即：头道要小于中道、中道要小于尾道\r\n    _isValidCardModes: function (touCardModes, zhongCardModes, weiCardModes) {\r\n        touCardModes = touCardModes || [];\r\n        zhongCardModes = zhongCardModes || [];\r\n        weiCardModes = weiCardModes || [];\r\n        if (touCardModes.length < 3 || zhongCardModes.length < 5 || weiCardModes.length < 5) {\r\n            return true;\r\n        }\r\n\r\n        let touScore = KQCard.scoreOfCards(touCardModes);\r\n        let zhongScore = KQCard.scoreOfCards(zhongCardModes);\r\n        let weiScore = KQCard.scoreOfCards(weiCardModes);\r\n        return (touScore < zhongScore) && (zhongScore <= weiScore);\r\n    },\r\n\r\n    // 头道上已有的牌\r\n    _taoDaoCardModes: function () {\r\n        return this._cardModesOfCardPrefabs(this.cardAlls.slice(0,3));\r\n    },\r\n\r\n    // 中道上已有的牌\r\n    _zhongDaoCardModes: function () {\r\n        //return this._cardModesOfCardPrefabs(this.layoutZhongDao.node.children);\r\n        return this._cardModesOfCardPrefabs(this.cardAlls.slice(3,8));\r\n    },\r\n\r\n    // 尾道上已有的牌\r\n    _weiDaoCardModes: function () {\r\n        //return this._cardModesOfCardPrefabs(this.layoutWeiDao.node.children);\r\n        return this._cardModesOfCardPrefabs(this.cardAlls.slice(8,13));\r\n    },\r\n\r\n    _cardModesOfCardPrefabs: function (cardTypeNodes) {\r\n        if (!cardTypeNodes) {\r\n            return [];\r\n        }\r\n\r\n        let cardModes = cardTypeNodes.map(function (node) {\r\n            //let component = node.getComponent('CardTypeSprite');\r\n            //return component.cardMode();._cardModel\r\n            return node._cardModel;\r\n        });\r\n\r\n        return cardModes || [];\r\n    },\r\n\r\n    // 自动设置 头、中、尾道的删除按钮的可见性\r\n    _autoActiveDeleteDaoButtons: function () {\r\n        //this._autoActiveDeleteDaoButton(this.layoutTouDao.node, this.btnDeleteTouDao.node);\r\n        //this._autoActiveDeleteDaoButton(this.layoutZhongDao.node, this.btnDeleteZhongDao.node);\r\n        //this._autoActiveDeleteDaoButton(this.layoutWeiDao.node, this.btnDeleteWeiDao.node);\r\n    },\r\n\r\n    _autoActiveDeleteDaoButton: function (layout, button) {\r\n        //button.active = layout.children.length > 0;\r\n    },\r\n\r\n    // 自动设置 “全部取消”、“确定出牌”、“类型选择”按钮的可见性\r\n    _autoActiveTypeButtons: function () {\r\n        //let cardNodes = this.cardsLayout.node.children || [];\r\n        //let hasCardUnSelected = cardNodes.length > 0;\r\n        //this.btnDone.node.active = !hasCardUnSelected;\r\n        //this.btnCancelAll.node.active = this.btnDone.node.active;\r\n        //this.typeButtonsNode.active = hasCardUnSelected;\r\n    },\r\n\r\n});\r\n"
  ]
}